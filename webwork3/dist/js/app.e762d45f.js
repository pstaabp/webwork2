(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],d=0,b=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&b.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(b.length)b.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,i=1;i<s.length;i++){var l=s[i];0!==a[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var r={},a={app:0},n=[];function o(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=r,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(s,r,function(t){return e[t]}.bind(null,r));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/webwork3/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("7b10")},"01a4":function(e,t,s){"use strict";var r=s("a9be"),a=s.n(r);a.a},"0554":function(e,t,s){"use strict";var r=s("78c5"),a=s.n(r);a.a},"08cc":function(e,t,s){},"0b95":function(e,t,s){},"1a25":function(e,t,s){"use strict";var r=s("3d46"),a=s.n(r);a.a},2228:function(e,t,s){},"3ad8":function(e,t,s){"use strict";var r=s("c51d"),a=s.n(r);a.a},"3d46":function(e,t,s){},"4a2c":function(e,t,s){"use strict";var r=s("2228"),a=s.n(r);a.a},5470:function(e,t,s){var r={"./af":"1ce0","./af.js":"1ce0","./ar":"1dba","./ar-dz":"34f8","./ar-dz.js":"34f8","./ar-kw":"0c8b","./ar-kw.js":"0c8b","./ar-ly":"1a84","./ar-ly.js":"1a84","./ar-ma":"79e1","./ar-ma.js":"79e1","./ar-sa":"512f","./ar-sa.js":"512f","./ar-tn":"0ac4","./ar-tn.js":"0ac4","./ar.js":"1dba","./az":"4d2f","./az.js":"4d2f","./be":"a0b0","./be.js":"a0b0","./bg":"e04f","./bg.js":"e04f","./bm":"7ece","./bm.js":"7ece","./bn":"f114","./bn.js":"f114","./bo":"1712","./bo.js":"1712","./br":"5b4c","./br.js":"5b4c","./bs":"d23c","./bs.js":"d23c","./ca":"2d9a","./ca.js":"2d9a","./cs":"4fbf","./cs.js":"4fbf","./cv":"58be","./cv.js":"58be","./cy":"5179","./cy.js":"5179","./da":"6729","./da.js":"6729","./de":"703e","./de-at":"01ca","./de-at.js":"01ca","./de-ch":"0f24","./de-ch.js":"0f24","./de.js":"703e","./dv":"e75a","./dv.js":"e75a","./el":"7480","./el.js":"7480","./en-SG":"da47","./en-SG.js":"da47","./en-au":"60d3","./en-au.js":"60d3","./en-ca":"f12a","./en-ca.js":"f12a","./en-gb":"368b","./en-gb.js":"368b","./en-ie":"8a44","./en-ie.js":"8a44","./en-il":"916f","./en-il.js":"916f","./en-nz":"125a","./en-nz.js":"125a","./eo":"621b","./eo.js":"621b","./es":"bd45","./es-do":"2f8c","./es-do.js":"2f8c","./es-us":"dd33","./es-us.js":"dd33","./es.js":"bd45","./et":"d79e","./et.js":"d79e","./eu":"8fa5","./eu.js":"8fa5","./fa":"4ba7","./fa.js":"4ba7","./fi":"721f","./fi.js":"721f","./fo":"1607","./fo.js":"1607","./fr":"4441","./fr-ca":"cba9","./fr-ca.js":"cba9","./fr-ch":"732d","./fr-ch.js":"732d","./fr.js":"4441","./fy":"5c5d","./fy.js":"5c5d","./ga":"06c2","./ga.js":"06c2","./gd":"e9fb","./gd.js":"e9fb","./gl":"4eb5","./gl.js":"4eb5","./gom-latn":"f64b","./gom-latn.js":"f64b","./gu":"bc99","./gu.js":"bc99","./he":"dc1c","./he.js":"dc1c","./hi":"b7f9","./hi.js":"b7f9","./hr":"12ca","./hr.js":"12ca","./hu":"4eb9","./hu.js":"4eb9","./hy-am":"3829","./hy-am.js":"3829","./id":"cd98","./id.js":"cd98","./is":"fdb5","./is.js":"fdb5","./it":"c78b","./it-ch":"bdf5","./it-ch.js":"bdf5","./it.js":"c78b","./ja":"ece3","./ja.js":"ece3","./jv":"fda1","./jv.js":"fda1","./ka":"871c","./ka.js":"871c","./kk":"ffaa","./kk.js":"ffaa","./km":"2b33","./km.js":"2b33","./kn":"5a2d","./kn.js":"5a2d","./ko":"c80f","./ko.js":"c80f","./ku":"ad82","./ku.js":"ad82","./ky":"9544","./ky.js":"9544","./lb":"b4d4","./lb.js":"b4d4","./lo":"4d81","./lo.js":"4d81","./lt":"71e2","./lt.js":"71e2","./lv":"5f73","./lv.js":"5f73","./me":"2bf5","./me.js":"2bf5","./mi":"cc8a","./mi.js":"cc8a","./mk":"9d13","./mk.js":"9d13","./ml":"35b8","./ml.js":"35b8","./mn":"43a5","./mn.js":"43a5","./mr":"1981","./mr.js":"1981","./ms":"2c47","./ms-my":"d7ba","./ms-my.js":"d7ba","./ms.js":"2c47","./mt":"5c2b","./mt.js":"5c2b","./my":"7326","./my.js":"7326","./nb":"1dc1","./nb.js":"1dc1","./ne":"1fc4","./ne.js":"1fc4","./nl":"c4f1","./nl-be":"a30d","./nl-be.js":"a30d","./nl.js":"c4f1","./nn":"377b","./nn.js":"377b","./pa-in":"1718","./pa-in.js":"1718","./pl":"b36d","./pl.js":"b36d","./pt":"5d40","./pt-br":"e16b","./pt-br.js":"e16b","./pt.js":"5d40","./ro":"1eeb","./ro.js":"1eeb","./ru":"0639","./ru.js":"0639","./sd":"96f9","./sd.js":"96f9","./se":"997a","./se.js":"997a","./si":"5aa1","./si.js":"5aa1","./sk":"81fa","./sk.js":"81fa","./sl":"92e1","./sl.js":"92e1","./sq":"a5ef","./sq.js":"a5ef","./sr":"ece9","./sr-cyrl":"ce24","./sr-cyrl.js":"ce24","./sr.js":"ece9","./ss":"fb98","./ss.js":"fb98","./sv":"3342","./sv.js":"3342","./sw":"978b","./sw.js":"978b","./ta":"2ce7","./ta.js":"2ce7","./te":"43cb","./te.js":"43cb","./tet":"7046","./tet.js":"7046","./tg":"2f41","./tg.js":"2f41","./th":"3790","./th.js":"3790","./tl-ph":"9746","./tl-ph.js":"9746","./tlh":"b362","./tlh.js":"b362","./tr":"d089","./tr.js":"d089","./tzl":"9b61","./tzl.js":"9b61","./tzm":"6f3c","./tzm-latn":"a1f7","./tzm-latn.js":"a1f7","./tzm.js":"6f3c","./ug-cn":"228c","./ug-cn.js":"228c","./uk":"7929","./uk.js":"7929","./ur":"fe04d","./ur.js":"fe04d","./uz":"5273","./uz-latn":"0b1c","./uz-latn.js":"0b1c","./uz.js":"5273","./vi":"8cd7","./vi.js":"8cd7","./x-pseudo":"ef33","./x-pseudo.js":"ef33","./yo":"a38d","./yo.js":"a38d","./zh-cn":"867f","./zh-cn.js":"867f","./zh-hk":"1d13","./zh-hk.js":"1d13","./zh-tw":"43f3","./zh-tw.js":"43f3"};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id="5470"},"5c26":function(e,t,s){"use strict";var r=s("755e"),a=s.n(r);a.a},"748e":function(e,t,s){"use strict";var r=s("d7ef"),a=s.n(r);a.a},"755e":function(e,t,s){},"78c5":function(e,t,s){},"7b10":function(e,t,s){"use strict";s.r(t);s("2fd0"),s("172e"),s("7d36"),s("0b95");var r=s("4d74"),a=s("fa4a"),n=s.n(a),o=s("4172"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-navbar",{staticClass:"fixed-top",attrs:{toggleable:"lg",type:"dark",id:"top-navbar"}},[s("b-navbar-brand",{attrs:{href:"#"}},[s("img",{attrs:{id:"wwlogo",src:"/webwork3/images/webwork_square.svg"}})]),s("b-navbar-brand",[e._v("WeBWorK")]),s("b-navbar-brand",[e._v("List of Courses ")])],1),s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"3"}},[s("b-list-group",e._l(e.courses,(function(t){return s("b-list-group-item",{key:t},[s("router-link",{attrs:{to:"/courses/"+t+"/login"}},[e._v(" "+e._s(t)+" ")])],1)})),1)],1)],1)],1)],1)},l=[],c=s("f779"),u=s.n(c),d={data:function(){return{courses:[]}},mounted:function(){var e=this;u.a.get("/webwork3/api/courses").then((function(t){e.courses=t.data}))}},b=d,p=s("4e75"),m=Object(p["a"])(b,i,l,!1,null,null,null),_=m.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("menu-bar",{on:{logout:e.logout}}),s("b-container",[s("router-view")],1)],1)},h=[],v=(s("5d89"),s("105d"),s("51b5"),s("d4b1"),s("afb8"),s("3845")),g=s("1dc8"),y=s("3022"),k=s("6720"),w=s("be88"),j=s("9d5f"),O=s("1313"),x=(s("fbf8"),s("c149")),S=s("9cbc"),C=s("9b8b"),E=s("69bc"),D=s("002a"),P=s("fa42"),M={numbered:!1,reorder:!1,add:!0,value:!1,attempts:!1,edit:!0,randomize:!0,delete:!1,mark_all:!1,tags:!0,path:!0,target_set:!0},T={numbered:!0,reorder:!0,add:!1,value:!0,attempts:!0,edit:!0,randomize:!0,delete:!0,mark_all:!0,tags:!1,path:!1,target_set:!1};function R(){return{set_id:"XXX",assigned_users:[],problems:[],set_header:"",hardcopy_header:"",open_date:0,due_date:0,answer_date:0,reduced_scoring_date:0,visible:!1,enable_reduced_scoring:!1,assignment_type:"set",description:"",restricted_release:"",restricted_status:0,attempts_per_version:-1,time_interval:0,versions_per_interval:1,version_time_limit:0,version_creation_time:0,problem_randorder:!1,version_last_attempt_time:0,problems_per_page:1,hide_score:"",hide_score_by_problem:"",hide_work:"",time_limit_cap:180,restrict_ip:"",relax_restrict_ip:"",restricted_login_proctor:"",hide_hint:!0,restrict_prob_progression:!1,email_instructor:!1}}function z(e,t){function s(e,t){return Object(x["a"])(e,(function(e,r,a){Object(S["a"])(r,t[a])||(e[a]=Object(C["a"])(r)&&Object(C["a"])(t[a])?s(r,t[a]):r)}))}return s(e,t)}function A(e){if(Object(E["a"])(e)&&!Object(D["a"])(e))throw e+" is not an integer";return Object(P["a"])(e)?parseInt(e+"",10):e}function $(e){var t=R();Object.assign(t,e),t.open_date=A(e.open_date),t.reduced_scoring_date=A(e.reduced_scoring_date),t.due_date=A(e.due_date),t.answer_date=A(e.answer_date),t.attempts_per_version=A(e.attempts_per_version),t.time_interval=A(e.time_interval),t.versions_per_interval=A(e.versions_per_interval),t.version_time_limit=A(e.version_time_limit),t.version_creation_time=A(e.version_creation_time),t.version_last_attempt_time=A(e.version_last_attempt_time),t.problems_per_page=A(e.problems_per_page),console.log(z(e,t))}function U(e){return n.a.unix(e.reduced_scoring_date).isSameOrAfter(n.a.unix(e.open_date))}function L(e){return n.a.unix(e.due_date).isSameOrAfter(n.a.unix(e.reduced_scoring_date))}function N(e){return n.a.unix(e.answer_date).isSameOrAfter(n.a.unix(e.due_date))}var I=function(){function e(){Object(g["a"])(this,e)}return Object(y["a"])(e,null,[{key:"views",value:function(){return[{name:"Calendar",icon:"calendar",route:"calendar",show_set:!1,show_user:!1},{name:"Classlist Manager",icon:"people",route:"classlist",show_set:!1,show_user:!1},{name:"Problem Set Details",icon:"info-square",route:"set-view",show_set:!0,show_user:!1},{name:"Library Browser",icon:"book",route:"library",show_set:!0,show_user:!1},{name:"Problem Sets Manager",icon:"list-ul",route:"problem-sets",show_set:!1,show_user:!0},{name:"Problem Editor",icon:"pencil",route:"editor",show_set:!1,show_user:!1},{name:"Statistics",icon:"bar-chart",route:"statistics",show_set:!1,show_user:!1},{name:"Import/Export Sets",icon:"arrow-left-right",route:"import-export",show_set:!1,show_user:!1},{name:"Settings",icon:"gear",route:"settings",show_set:!1,show_user:!1}]}},{key:"sidebars",value:function(){return[{name:"Problem Sets",comp:"problem_sets"},{name:"Library Options",comp:"lib_opts"},{name:"Messages",comp:"messages"}]}},{key:"userTypes",value:function(){return{C:"enrolled",P:"proctor",A:"audit",D:"drop"}}},{key:"permissionLevels",value:function(){return{20:"admin",10:"professor",8:"ta",7:"grade_proctor",6:"login_proctor",0:"student","-5":"guest"}}},{key:"dateTypes",value:function(){return["due_date","reduced_scoring_date","due_date","answer_date"]}},{key:"formatDateTime",value:function(e){return n.a.unix(e).format("MM/DD/YYYY [at] hh:mma")}},{key:"formatDateForBrowser",value:function(e){return n.a.unix(e).format("YYYY-MM-DD")}},{key:"formatDatetimeForBrowser",value:function(e){return n.a.unix(e).format("YYYY-MM-DD[T]hh:mma")}},{key:"formatTimeForBrowser",value:function(e){return n.a.unix(e).format("HH:mm")}},{key:"parseDatetimeForBrowser",value:function(e){return n()(e,"YYYY-MM-DD[T]HH:mm").unix()}},{key:"newUser",value:function(){return{user_id:"__new_user",first_name:"",last_name:"",status:"",comment:"",useMathView:!1,permission:-5,recitation:"",student_id:"",lis_source_did:"",email_address:"",displayMode:"MathJax",section:"",showOldAnswers:!1,useWirisEditor:!1}}},{key:"newProblem",value:function(){return{att_to_open_children:"",counts_parent_grade:[],flags:"",max_attempts:-1,prCount:"",prPeriod:"",problem_id:0,set_id:"",showMeAnother:"",showMeAnotherCount:0,source_file:"",value:1,problem_source:""}}}]),e}(),Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-navbar",{staticClass:"fixed-top",attrs:{toggleable:"lg",type:"dark",id:"top-navbar"}},[s("b-navbar-brand",{attrs:{href:"#"}},[s("img",{attrs:{id:"wwlogo",src:"/webwork3/images/webwork_square.svg"}}),e._v(" WeBWorK ")]),s("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),s("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[s("b-navbar-nav",{attrs:{id:"view-name-container"}},[s("b-nav-text",{staticClass:"mr-2"},[s("b-icon",{attrs:{icon:e.current_icon,variant:"light","font-scale":"2"}})],1),s("b-navbar-brand",{attrs:{id:"view-name"}},[e._v(" "+e._s(e._f("getName")(e.current_view,e.views))+" ")]),s("b-nav-item-dropdown",{staticClass:"mt-1",attrs:{variant:"outline-primary"}},e._l(e.views,(function(t){return s("b-dropdown-item",{key:t.route},[s("router-link",{staticClass:"view-link",attrs:{to:e.path(t.route)}},[s("b-icon",{attrs:{icon:t.icon}}),s("span",{staticClass:"pl-2"},[e._v(e._s(t.name))])],1)],1)})),1)],1),e.show_set?s("b-navbar-nav",{staticClass:"mr-3"},[s("b-nav-text",{staticClass:"font-weight-bold text-light mr-3"},[e._v(" Selected Set: ")]),s("dropdown",{attrs:{id:"set_options",options:e.set_names_for_dd,maxItem:100,placeholder:"Select a set"},on:{selected:e.setSelectedSet}})],1):e._e(),e.show_user?s("b-navbar-nav",{staticClass:"mr-3"},[s("b-nav-text",{staticClass:"font-weight-bold text-light mr-3"},[e._v(" Selected User: ")]),s("dropdown",{attrs:{id:"user_options",options:e.user_names_for_dd,maxItem:100,placeholder:"Select a User"},on:{selected:e.setSelectedUser}})],1):e._e(),s("b-navbar-nav",{staticClass:"ml-auto"},[s("notification-bar"),s("b-nav-item-dropdown",{attrs:{right:""}},[s("template",{slot:"button-content"},[s("b-icon",{attrs:{icon:"person"}})],1),s("b-dropdown-text",[e._v(e._s(e.fullname))]),s("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.settings",modifiers:{settings:!0}}],attrs:{href:"#"}},[s("b-icon",{attrs:{icon:"gear"}}),e._v(" Settings ")],1),s("b-dropdown-item",{on:{click:function(t){return e.$emit("logout")}}},[s("b-icon",{attrs:{icon:"circle-slash"}}),e._v(" Logout ")],1)],2)],1)],1)],1),s("b-modal",{attrs:{id:"settings",size:"lg",title:"User Settings"}},[s("table",{staticClass:"table table-sm"},[s("tbody",[s("tr",[s("td",[e._v("Name:")]),s("td",[e._v(e._s(e.fullname))])]),s("tr",[s("td",[e._v("login name:")]),s("td",[e._v(e._s(e.login_info.user_id))])]),s("tr",[s("td",[e._v("Email:")]),s("td",[e._v(e._s(e.login_info))])]),s("tr",[s("td",[e._v("Password:")]),s("td",[s("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(t){e.change_password=!e.change_password}}},[e._v(" "+e._s(e.change_password?"Cancel Change":"Change Password")+" ")])],1)]),s("tr",[s("td",{attrs:{colspan:"2"}},[e.change_password?s("b-form-group",{attrs:{label:"Current Password","label-cols":"5"}},[s("b-input",{attrs:{type:"password"}})],1):e._e()],1)]),e.change_password?s("tr",[s("td",{attrs:{colspan:"2"}},[s("b-form-group",{attrs:{label:"New Password:","label-cols":"5"}},[s("b-input",{attrs:{type:"password"}})],1)],1)]):e._e(),e.change_password?s("tr",[s("td",{attrs:{colspan:"2"}},[s("b-form-group",{attrs:{label:"Confirm Password:","label-cols":"5"}},[s("b-input",{attrs:{type:"password"}})],1)],1)]):e._e()])])])],1)},F=[],B=(s("ed2c"),s("f0e5"),s("b804"),s("3732"),s("ebac"),s("a18e"),s("5007"),s("3234"),s("2c02")),G=s("a36a"),V=s("9759"),H=s.n(V),W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-nav-item-dropdown",{attrs:{right:""}},[s("template",{slot:"button-content"},[s("span",{staticClass:"mr-2",class:{blinking:e.new_message}},[e._v("Messages")]),s("b-badge",{attrs:{variant:"light"}},[e._v(" "+e._s(e.messages.length)+" "),s("span",{staticClass:"sr-only"},[e._v("unread messages")])])],1),s("b-dropdown-text",{staticClass:"message px-1"},[s("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:e.clearMessages}},[e._v(" Clear Messages ")])],1),s("b-dropdown-divider"),e._l(e.messages,(function(t,r){return s("b-dropdown-text",{key:r,staticClass:"message px-1"},[s("notification",{attrs:{message:t},on:{"remove-message":e.remove}})],1)}))],2)},X=[],q=(s("5044"),s("981a"),s("7186")),J=s("dc6f");r["a"].use(J["a"]);var K={},Q=new J["a"].Store({state:K,mutations:{},actions:{}}),Z="messages_store";Q.state[Z]&&Q.unregisterModule(Z);var ee=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e._messages=[],e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"addMessage",value:function(e){e.id=this._messages.length,this.ADD_MESSAGE(e)}},{key:"removeMessageById",value:function(e){var t=this._messages.findIndex((function(t){return t.id===e}));t>-1&&this.REMOVE_MESSAGE_BY_INDEX(t)}},{key:"clearMessages",value:function(){this._messages=[]}},{key:"ADD_MESSAGE",value:function(e){this._messages.push(e)}},{key:"REMOVE_MESSAGE_BY_INDEX",value:function(e){this._messages.splice(e,1)}},{key:"messages",get:function(){return this._messages}}]),t}(q["d"]);O["a"]([q["a"]],ee.prototype,"addMessage",null),O["a"]([q["a"]],ee.prototype,"removeMessageById",null),O["a"]([q["c"]],ee.prototype,"clearMessages",null),O["a"]([q["c"]],ee.prototype,"ADD_MESSAGE",null),O["a"]([q["c"]],ee.prototype,"REMOVE_MESSAGE_BY_INDEX",null),ee=O["a"]([Object(q["b"])({namespaced:!0,name:"messages_store",store:Q,dynamic:!0})],ee);var te=Object(q["e"])(ee,Q),se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown-text",[s("span",{staticStyle:{"font-size":"1.5rem"},on:{click:function(t){e.show_long=!e.show_long}}},[s("b-icon",{staticClass:"border rounded",attrs:{icon:e.show_long?"chevron-down":"chevron-right"}})],1),s("span",{staticClass:"px-3"},[e._v(e._s(e.message.short))]),s("span",{staticClass:"float-right",staticStyle:{"font-size":"1.5rem"},on:{click:function(t){return e.$emit("remove-message",e.message.id)}}},[s("b-icon",{staticClass:"border rounded",attrs:{icon:"x-circle-fill",variant:"danger"}})],1),e.show_long?s("div",{staticClass:"long border rounded p-2"},[e._v(" "+e._s(e.message.long)+" ")]):e._e()])},re=[],ae=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.show_long=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"removeMessage",value:function(){console.log("hi")}}]),t}(G["c"]);O["a"]([Object(G["b"])()],ae.prototype,"message",void 0),ae=O["a"]([Object(G["a"])({name:"Notification"})],ae);var ne=ae,oe=ne,ie=(s("4a2c"),Object(p["a"])(oe,se,re,!1,null,"fc3a76b2",null)),le=ie.exports,ce=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.new_message=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"clearMessages",value:function(){te.clearMessages()}},{key:"remove",value:function(e){te.removeMessageById(e)}},{key:"mounted",value:function(){var e=this;this.$store.subscribe((function(t,s){"messages_store/ADD_MESSAGE"===t.type&&(e.new_message=!0,setTimeout((function(){e.new_message=!1}),4e3))}))}},{key:"messages",get:function(){return te.messages}}]),t}(G["c"]);ce=O["a"]([Object(G["a"])({name:"NotificationBar",components:{Notification:le}})],ce);var ue=ce,de=ue,be=(s("01a4"),Object(p["a"])(de,W,X,!1,null,"4c5148e4",null)),pe=be.exports;Q.state.login&&Q.unregisterModule("login");var me=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e._login_info={user_id:"",logged_in:!1,course_id:"",user:I.newUser()},e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"checkPassword",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={logged_in:!1,user_id:t.user_id,course_id:t.course_id,user:I.newUser()},e.next=3,u.a.post("/webwork3/api/courses/"+s.course_id+"/login",t);case 3:return r=e.sent,1===r.data.logged_in&&(s.logged_in=!0,s.user.permission=r.data.permission,s.user.first_name=r.data.first_name,s.user.last_name=r.data.last_name),this.setLoginInfo(s),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearLogin",value:function(){this.RESET_LOGIN()}},{key:"setLoginInfo",value:function(e){this._login_info=e}},{key:"RESET_LOGIN",value:function(){this._login_info={user_id:"",logged_in:!1,course_id:"",user:I.newUser()}}},{key:"api_header",get:function(){return"/webwork3/api/courses/"+this._login_info.course_id}},{key:"login_info",get:function(){return this._login_info}},{key:"course_id",get:function(){return this._login_info.course_id}}]),t}(q["d"]);O["a"]([q["a"]],me.prototype,"checkPassword",null),O["a"]([q["a"]],me.prototype,"clearLogin",null),O["a"]([q["c"]],me.prototype,"setLoginInfo",null),O["a"]([q["c"]],me.prototype,"RESET_LOGIN",null),me=O["a"]([Object(q["b"])({namespaced:!0,name:"login",store:Q,dynamic:!0})],me);var _e=Object(q["e"])(me,Q);s("536c"),s("13ec"),s("a9c8"),s("89a1"),s("ab53"),s("7dab");Q.state.problem_set_store&&Q.unregisterModule("problem_set_store");var fe=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e._problem_sets=new Map,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"fetchProblemSets",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(_e.api_header+"/sets");case 2:t=e.sent,s=t.data,s.forEach((function(e){r.SET_PROBLEM_SET($(e))}));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateProblemSet",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s,r,a,n,o,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("in updateProblemSet"),s=this._problem_sets.get(t.set_id),e.next=4,u.a.put(_e.api_header+"/sets/"+t.set_id,t);case 4:r=e.sent,a=r.data,console.log(z(a,t)),console.log(z(t,a)),Object(S["a"])(a,t)&&s?(n=z(a,s),console.log(z(a,s)),console.log(z(s,a)),o=Object.keys(n),i="The properties ".concat(o," for problem sets ").concat(t.set_id," changed."),l="The following properties changed:"+o.reduce((function(e,r){return e+" "+r+": from "+(/date$/.test(r)?I.formatDateTime(s[r]):s[r])+" to "+(/date$/.test(r)?I.formatDateTime(t[r]):t[r])}),""),te.addMessage({id:-1,short:i,long:l}),this.SET_PROBLEM_SET(r.data)):console.error("There was an error saving the problem set: ".concat(t.set_id));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addProblemSet",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(_e.api_header+"/sets/"+t.set_id,t);case 2:return s=e.sent,this.SET_PROBLEM_SET(t),e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeProblemSet",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a["delete"](_e.api_header+"/sets/"+t.set_id);case 2:return s=e.sent,this.DELETE_SET(t),e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearProblemSets",value:function(){this.RESET_SETS()}},{key:"SET_PROBLEM_SET",value:function(e){this._problem_sets.set(e.set_id,e)}},{key:"DELETE_SET",value:function(e){this._problem_sets["delete"](e.set_id)}},{key:"RESET_SETS",value:function(){this._problem_sets=new Map}},{key:"problem_sets",get:function(){return this._problem_sets}},{key:"set_names",get:function(){return Array.from(this._problem_sets.keys())}}]),t}(q["d"]);O["a"]([Object(q["a"])({rawError:!0})],fe.prototype,"fetchProblemSets",null),O["a"]([q["a"]],fe.prototype,"updateProblemSet",null),O["a"]([q["a"]],fe.prototype,"addProblemSet",null),O["a"]([q["a"]],fe.prototype,"removeProblemSet",null),O["a"]([q["a"]],fe.prototype,"clearProblemSets",null),O["a"]([q["c"]],fe.prototype,"SET_PROBLEM_SET",null),O["a"]([q["c"]],fe.prototype,"DELETE_SET",null),O["a"]([q["c"]],fe.prototype,"RESET_SETS",null),fe=O["a"]([Object(q["b"])({namespaced:!0,name:"problem_set_store",store:Q,dynamic:!0})],fe);var he=Object(q["e"])(fe,Q);Q.state.app_state&&Q.unregisterModule("app_state");var ve=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e._selected_set="",e._selected_user="",e._current_view="",e._show_set_options=!1,e._show_user_options=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"setSelectedSet",value:function(e){this._selected_set=e}},{key:"setSelectedUser",value:function(e){this._selected_user=e}},{key:"setCurrentView",value:function(e){this._current_view=e}},{key:"setShowSetOptions",value:function(e){this._show_set_options=e}},{key:"setShowUserOptions",value:function(e){this._show_user_options=e}},{key:"selected_set",get:function(){return this._selected_set}},{key:"selected_user",get:function(){return this._selected_user}},{key:"current_view",get:function(){return this._current_view}},{key:"show_set_options",get:function(){return this._show_set_options}},{key:"show_user_options",get:function(){return this._show_user_options}}]),t}(q["d"]);O["a"]([q["c"]],ve.prototype,"setSelectedSet",null),O["a"]([q["c"]],ve.prototype,"setSelectedUser",null),O["a"]([q["c"]],ve.prototype,"setCurrentView",null),O["a"]([q["c"]],ve.prototype,"setShowSetOptions",null),O["a"]([q["c"]],ve.prototype,"setShowUserOptions",null),ve=O["a"]([Object(q["b"])({namespaced:!0,name:"app_state",store:Q,dynamic:!0})],ve);var ge=Object(q["e"])(ve,Q),ye="users";Q.state[ye]&&Q.unregisterModule(ye);var ke=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e._users=new Map,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"fetchUsers",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(_e.api_header+"/users");case 2:t=e.sent,s=t.data,this.SET_USERS(s);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateUser",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.put(_e.api_header+"/users/"+t.user_id,t);case 2:s=e.sent,this.SET_USER(s.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearUsers",value:function(){this.RESET_USERS()}},{key:"RESET_USERS",value:function(){this._users=new Map}},{key:"SET_USER",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._users.set(t.user_id,t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"SET_USERS",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._users=new Map,t.forEach((function(e){s._users.set(e.user_id,e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"users",get:function(){return this._users}},{key:"users_array",get:function(){return Array.from(this._users.values())}}]),t}(q["d"]);O["a"]([q["a"]],ke.prototype,"fetchUsers",null),O["a"]([q["a"]],ke.prototype,"updateUser",null),O["a"]([q["a"]],ke.prototype,"clearUsers",null),O["a"]([q["c"]],ke.prototype,"RESET_USERS",null),O["a"]([q["c"]],ke.prototype,"SET_USER",null),O["a"]([q["c"]],ke.prototype,"SET_USERS",null),ke=O["a"]([Object(q["b"])({namespaced:!0,name:"users",store:Q,dynamic:!0})],ke);var we=Object(q["e"])(ke,Q),je=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.change_password=!1,e.views=I.views(),e.sidebars=I.sidebars(),e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"path",value:function(e){return"set-view"===e&&ge.selected_set?"/courses/"+_e.login_info.course_id+"/manager/"+e+"/"+ge.selected_set:"/courses/"+_e.login_info.course_id+"/manager/"+e}},{key:"setSelectedSet",value:function(e){e&&e.name&&ge.setSelectedSet(e.name),setTimeout((function(){var e=document.getElementById("set_options"),t=e&&e.firstElementChild;t&&t.setAttribute("autocomplete","off")}),200)}},{key:"setSelectedUser",value:function(e){var t=this;e&&e.name&&ge.setSelectedUser(e.id),setTimeout((function(){var e=document.getElementById("user_options"),s=e&&e.firstElementChild;s&&(s.value=t.fullname,s.setAttribute("autocomplete","off"))}),200)}},{key:"current_view",get:function(){return ge.current_view}},{key:"current_icon",get:function(){var e=this,t=I.views().find((function(t){return t.route===e.current_view}));return t?t.icon:""}},{key:"selected_user_id",get:function(){return ge.selected_user}},{key:"selected_user",get:function(){return we.users.get(this.selected_user_id)}},{key:"selected_user_full_name",get:function(){return this.selected_user?this.selected_user.first_name+" "+this.selected_user.last_name:""}},{key:"show_set",get:function(){return ge.show_set_options}},{key:"show_user",get:function(){return ge.show_user_options}},{key:"users",get:function(){return Array.from(we.users.keys())}},{key:"set_names_for_dd",get:function(){return Array.from(he.problem_sets.keys()).sort().map((function(e){return{name:e,id:e}}))}},{key:"user_names_for_dd",get:function(){return Array.from(we.users.values()).map((function(e){return{name:e.first_name+" "+e.last_name,id:e.user_id}}))}},{key:"login_info",get:function(){return _e.login_info}},{key:"fullname",get:function(){return _e.login_info.user.first_name+" "+_e.login_info.user.last_name}}]),t}(G["c"]);je=O["a"]([Object(G["a"])({name:"MenuBar",components:{NotificationBar:pe,BNavbar:B["a"],Dropdown:H.a},filters:{getName:function(e,t){if(void 0!==t){var s=t.find((function(t){return t.route===e}));if(void 0!==s)return s.name}return"Select View"}}})],je);var Oe=je,xe=Oe,Se=(s("c5e0"),Object(p["a"])(xe,Y,F,!1,null,"ea1ea38a",null)),Ce=Se.exports;Q.state.settings&&Q.unregisterModule("settings");var Ee=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e._settings=new Map,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"fetchSettings",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(_e.api_header+"/settings");case 2:return t=e.sent,s=t.data,s.forEach((function(e){return r.SET_SETTING(e)})),e.abrupt("return",this.settings);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateSetting",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s,r,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.put(_e.api_header+"/settings/"+t["var"],t);case 2:s=e.sent,r=s.data,a=this._settings.get(t["var"]),n="",a&&(n=""+a.value),Object(S["a"])(r,t)&&(o={id:-1,short:"The setting for ".concat(t["var"]," was changed"),long:"The setting for ".concat(t["var"]," was changed from ").concat(n," to ").concat(t.value,".")},te.addMessage(o),this.SET_SETTING(t));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearSettings",value:function(){this.RESET_SETTINGS()}},{key:"RESET_SETTINGS",value:function(){this._settings=new Map}},{key:"SET_SETTING",value:function(e){this._settings.set(e["var"],e)}},{key:"settings",get:function(){return this._settings}},{key:"settings_array",get:function(){return Array.from(this._settings.values())}}]),t}(q["d"]);O["a"]([q["a"]],Ee.prototype,"fetchSettings",null),O["a"]([q["a"]],Ee.prototype,"updateSetting",null),O["a"]([q["a"]],Ee.prototype,"clearSettings",null),O["a"]([q["c"]],Ee.prototype,"RESET_SETTINGS",null),O["a"]([q["c"]],Ee.prototype,"SET_SETTING",null),Ee=O["a"]([Object(q["b"])({namespaced:!0,name:"settings",store:Q,dynamic:!0})],Ee);var De=Object(q["e"])(Ee,Q),Pe=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"onRouteChanged",value:function(e){ge.setCurrentView(this.$route.path.split("/")[4]);var t=I.views().find((function(e){return e.route===ge.current_view}));t&&(ge.setShowSetOptions(t.show_set),ge.setShowUserOptions(t.show_user))}},{key:"created",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:_e.login_info&&_e.login_info.logged_in?(De.fetchSettings(),we.fetchUsers(),he.fetchProblemSets()):this.$router.replace("/courses/"+_e.login_info.course_id+"/login");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=this,t=_e.course_id;u.a.post(_e.api_header+"/logout").then((function(){_e.clearLogin(),De.clearSettings(),we.clearUsers(),he.clearProblemSets(),e.$router.replace("/courses/"+t+"/login")}))}},{key:"mounted",value:function(){ge.setCurrentView(this.$route.fullPath.split("/").pop()||"")}}]),t}(G["c"]);O["a"]([Object(G["d"])("$route.path")],Pe.prototype,"onRouteChanged",null),Pe=O["a"]([Object(G["a"])({name:"Manager",components:{MenuBar:Ce}})],Pe);var Me=Pe,Te=Me,Re=(s("5c26"),Object(p["a"])(Te,f,h,!1,null,null,null)),ze=Re.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-navbar",{staticClass:"fixed-top",attrs:{toggleable:"lg",type:"dark",id:"top-navbar"}},[s("b-navbar-brand",{attrs:{href:"#"}},[s("img",{attrs:{id:"wwlogo",src:"/webwork3/images/webwork_square.svg"}})]),s("b-navbar-brand",[e._v("WeBWorK")]),s("b-navbar-brand",[e._v("Login to "+e._s(e.password_info.course_id))])],1),s("b-container",[s("b-row",[s("b-col",{staticClass:"border p-3 rounded",attrs:{"offset-md":"3",cols:"6"}},[s("p",[e._v(" Please enter your login and password for course: "+e._s(e.password_info.course_id)+" ")]),s("form",{on:{submit:function(t){return t.preventDefault(),e.checkPassword(t)}}},[s("b-form-group",{attrs:{id:"login-form","label-cols-sm":"4","label-cols-lg":"3",label:"Login Name","label-for":"login"}},[s("b-form-input",{ref:"login-input",attrs:{id:"login"},model:{value:e.password_info.user_id,callback:function(t){e.$set(e.password_info,"user_id",t)},expression:"password_info.user_id"}})],1),s("b-form-group",{attrs:{id:"password-form","invalid-feedback":"Incorrect Password",state:e.password_state,"label-cols-sm":"4","label-cols-lg":"3",label:"Password","label-for":"password"}},[s("b-form-input",{attrs:{type:"password",id:"password"},model:{value:e.password_info.password,callback:function(t){e.$set(e.password_info,"password",t)},expression:"password_info.password"}})],1),s("b-btn-group",[s("b-btn",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),s("b-btn",{attrs:{variant:"outline-dark"},on:{click:e.cancel}},[e._v(" Cancel and Return to Course List ")])],1)],1)])],1)],1)],1)},$e=[],Ue=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.password_info={course_id:"",user_id:"",password:""},e.password_state=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"created",value:function(){this.password_info.course_id=this.$route.params.course_id}},{key:"checkPassword",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_e.checkPassword(this.password_info);case 2:s=e.sent,s&&s.logged_in&&s&&s.user&&s.user.permission>=10&&this.$router.replace("/courses/"+_e.login_info.course_id+"/manager");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.$refs["login-input"].$el.focus()}},{key:"cancel",value:function(){this.$router.push("/courses")}}]),t}(G["c"]);Ue=O["a"]([Object(G["a"])({name:"Login"})],Ue);var Le=Ue,Ne=Le,Ie=Object(p["a"])(Ne,Ae,$e,!1,null,null,null),Ye=Ie.exports,Fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-container",[s("b-row",{staticClass:"pb-3"},[s("b-col",{attrs:{cols:"3"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-input",{attrs:{placeholder:"Filter"},model:{value:e.filter_string,callback:function(t){e.filter_string=t},expression:"filter_string"}}),s("b-input-group-append",[s("b-button",{attrs:{size:"sm",text:"Button"},on:{click:function(t){e.filter_string=""}}},[e._v(" X ")])],1)],1)],1),s("b-col",{attrs:{cols:"9"}},[s("b-input-group",{attrs:{size:"sm",prepend:"Show Time"}},[s("b-input-group-append",{attrs:{"is-text":""}},[s("b-checkbox",{model:{value:e.show_time,callback:function(t){e.show_time=t},expression:"show_time"}})],1),s("b-input-group-append",[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.add-problem-set-modal",modifiers:{"add-problem-set-modal":!0}}]},[e._v("Add Problem Set")])],1),s("b-dd",{attrs:{variant:"outline-dark",text:"Action on Selected"}},[s("b-dd-item",{directives:[{name:"b-modal",rawName:"v-b-modal.edit-problem-sets-modal",modifiers:{"edit-problem-sets-modal":!0}}],attrs:{disabled:0===e.selected_sets.length}},[e._v(" Edit Problem Sets ")]),s("b-dd-item",{attrs:{disabled:0===e.selected_sets.length},on:{click:e.deleteSets}},[e._v(" Delete Problem Sets ")])],1),s("b-dd",{attrs:{variant:"outline-dark",text:"Show Rows"}},[s("b-dd-item",{attrs:{default:"",value:"10"}},[e._v("Show 10 rows")]),s("b-dd-item",{attrs:{value:"25"}},[e._v("Show 25 rows")]),s("b-dd-item",{attrs:{value:"50"}},[e._v("Show 50 rows")]),s("b-dd-item",{attrs:{value:"0"}},[e._v("Show all rows")])],1)],1)],1)],1),s("b-row",[s("b-table",{attrs:{items:e.problem_sets_as_array,fields:e.fields,small:!0,bordered:!0,"primary-key":"set_id",filter:e.filter_string,selectable:""},on:{"row-selected":e.rowSelected,"row-dblclicked":e.editRow},scopedSlots:e._u([{key:"cell(set_id)",fn:function(t){return[s("router-link",{attrs:{to:e.viewSetLink(t.item.set_id)}},[e._v(" "+e._s(t.item.set_id)+" ")])]}},{key:"cell(visible)",fn:function(t){return[s("div",{staticClass:"mx-auto",attrs:{width:"100%"}},[t.value?s("b-icon",{staticClass:"text-success",attrs:{icon:"check-circle"}}):e._e(),t.value?e._e():s("b-icon",{staticClass:"text-danger",attrs:{icon:"x-circle-fill"}})],1)]}},{key:"cell(enable_reduced_scoring)",fn:function(t){return[s("div",{staticClass:"mx-auto",attrs:{width:"100%"}},[t.value?s("b-icon",{staticClass:"text-success",attrs:{icon:"check-circle"}}):e._e(),t.value?e._e():s("b-icon",{staticClass:"text-danger",attrs:{icon:"x-circle-fill"}})],1)]}},{key:"cell(reduced_scoring_date)",fn:function(t){return[e._v(" "+e._s(t.item.enable_reduced_scoring?e.formatDate(t.item.reduced_scoring_date):"")+" ")]}}])})],1)],1),s("add-problem-set-modal",{attrs:{problem_sets:e.problem_sets},on:{"problem-set-added":function(t){e.problem_set_tracker+=1}}}),s("edit-problem-sets-modal",{attrs:{selected_sets:e.selected_sets},on:{sets_updated:function(t){e.problem_set_tracker+=1}}})],1)},Be=[],Ge=s("9a73"),Ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"add-prob-set-modal",attrs:{id:"add-problem-set-modal",title:"Add A Problem Set","ok-title":"Add Problem Set and Close"},on:{ok:e.addProblemSet}},[s("b-container",[s("b-form-group",{attrs:{"label-cols":"4",label:"Problem Set Name","invalid-feedback":e.feedback()}},[s("b-form-input",{ref:"set_id",attrs:{state:e.valid_name&&e.set_not_defined},model:{value:e.problem_set.set_id,callback:function(t){e.$set(e.problem_set,"set_id",t)},expression:"problem_set.set_id"}})],1),s("b-form-group",{attrs:{"label-cols":"4",label:"Visible"}},[s("b-checkbox",{model:{value:e.problem_set.visible,callback:function(t){e.$set(e.problem_set,"visible",t)},expression:"problem_set.visible"}})],1),s("b-form-group",{attrs:{"label-cols":"4",label:"Reduced Scoring"}},[s("b-checkbox",{model:{value:e.problem_set.enable_reduced_scoring,callback:function(t){e.$set(e.problem_set,"enable_reduced_scoring",t)},expression:"problem_set.enable_reduced_scoring"}})],1)],1)],1)},He=[],We=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"setOpenDate",value:function(e,t){e.open_date=I.parseDatetimeForBrowser(t)}},{key:"setReducedScoringDate",value:function(e,t){e.reduced_scoring_date=I.parseDatetimeForBrowser(t)}},{key:"setDueDate",value:function(e,t){e.due_date=I.parseDatetimeForBrowser(t)}},{key:"setAnswerDate",value:function(e,t){e.answer_date=I.parseDatetimeForBrowser(t)}}]),t}(r["a"]);We=O["a"]([Ge["b"]],We);var Xe=We,qe=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.problem_set=e.emptySet(),e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"feedback",value:function(){return this.valid_name?this.set_not_defined?"":"This name has already been used.":"The name is not a valid name."}},{key:"addProblemSet",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,s,r,a,o,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.valid_name&&this.set_not_defined){e.next=2;break}return e.abrupt("return");case 2:return t=De.settings.get("pg{timeAssignDue}"),s=t?t.value:"",r=n.a(s,"hh:mma"),a=n.a().add(7,"days").hour(r.hour()).minute(r.minute()),o=n.a(a).add(10,"days"),i=n.a(a).add(7,"days"),l=n.a(o).add(7,"days"),Object.assign(this.problem_set,{open_date:a.unix(),due_date:o.unix(),reduced_scoring_date:i.unix(),answer_date:l.unix()}),e.next=12,he.addProblemSet(this.problem_set);case 12:e.sent,this.$bvModal.hide("add-problem-set-modal"),this.problem_set=this.emptySet(),this.$emit("problem-set-added");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"valid_name",get:function(){return/^[A-Za-z_][\w_]*$/.test(this.problem_set.set_id)}},{key:"set_not_defined",get:function(){return void 0===he.problem_sets.get(this.problem_set.set_id)}}]),t}(Object(Ge["c"])(Xe));O["a"]([Object(G["b"])()],qe.prototype,"problem_sets",void 0),qe=O["a"]([Object(G["a"])({name:"AddProblemSetModal"})],qe);var Je=qe,Ke=Je,Qe=Object(p["a"])(Ke,Ve,He,!1,null,null,null),Ze=Qe.exports,et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"sfmodal",attrs:{id:"edit-problem-sets-modal",size:"lg",title:"Edit Problem Sets","ok-title":"Save and Close"},on:{ok:e.save}},[s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{cols:"5"}},[e._v("Set Name(s)")]),s("b-col",{attrs:{cols:"5"}},[e._v(e._s(e.set_names))])],1),s("b-form-group",{attrs:{"label-cols":"5",label:"Visible"}},[s("b-checkbox",{model:{value:e.problem_set.visible,callback:function(t){e.$set(e.problem_set,"visible",t)},expression:"problem_set.visible"}})],1),s("b-form-group",{attrs:{"label-cols":"5",label:"Reduced Scoring"}},[s("b-checkbox",{model:{value:e.problem_set.enable_reduced_scoring,callback:function(t){e.$set(e.problem_set,"enable_reduced_scoring",t)},expression:"problem_set.enable_reduced_scoring"}})],1),s("b-form-group",{attrs:{"label-cols":"5",label:"Open Date"}},[s("b-form-input",{attrs:{value:e._f("formatDateTime")(e.problem_set.open_date),type:"datetime-local"},on:{blur:function(t){return e.setOpenDate(e.problem_set,t.target.value)}}})],1),s("b-form-group",{attrs:{"label-cols":"5",label:"Reduced Scoring Date","invalid-feedback":"This date must be after the open date."}},[s("b-form-input",{attrs:{value:e._f("formatDateTime")(e.problem_set.reduced_scoring_date),type:"datetime-local",state:e.validReducedScoring},on:{blur:function(t){return e.setReducedScoringDate(e.problem_set,t.target.value)}}})],1),s("b-form-group",{attrs:{"label-cols":"5",label:"Due Date","invalid-feedback":"This date must be after the reduced scoring date."}},[s("b-form-input",{attrs:{value:e._f("formatDateTime")(e.problem_set.due_date),type:"datetime-local",state:e.validDueDate},on:{blur:function(t){return e.setDueDate(e.problem_set,t.target.value)}}})],1),s("b-form-group",{attrs:{"label-cols":"5",label:"Answer Date","invalid-feedback":"This date must be after the due date."}},[s("b-form-input",{attrs:{value:e._f("formatDateTime")(e.problem_set.answer_date),type:"datetime-local",state:e.validAnswerDate},on:{blur:function(t){return e.setAnswerDate(e.problem_set,t.target.value)}}})],1)],1)],1)},tt=[],st=(s("8eb0"),s("7dfa")),rt=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.problem_set=e.emptySet(),e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"selectedSetsChanged",value:function(){var e=this.selected_sets||[];this.problem_set.open_date=Math.min.apply(Math,Object(st["a"])(e.map((function(e){return e.open_date})))),this.problem_set.reduced_scoring_date=Math.min.apply(Math,Object(st["a"])(e.map((function(e){return e.reduced_scoring_date})))),this.problem_set.due_date=Math.min.apply(Math,Object(st["a"])(e.map((function(e){return e.due_date})))),this.problem_set.answer_date=Math.min.apply(Math,Object(st["a"])(e.map((function(e){return e.answer_date}))))}},{key:"save",value:function(){var e=this;this.selected_sets.forEach((function(t){var s=e.problem_set,r=s.enable_reduced_scoring,a=s.visible,n=s.open_date,o=s.reduced_scoring_date,i=s.due_date,l=s.answer_date;Object.assign(t,{enable_reduced_scoring:r,visible:a,open_date:n,reduced_scoring_date:o,due_date:i,answer_date:l}),he.updateProblemSet(t)})),this.$bvModal.hide("edit-problem-sets-modal"),this.$emit("update-set")}},{key:"set_names",get:function(){return this.selected_sets.map((function(e){return e.set_id})).join(", ")}},{key:"validReducedScoring",get:function(){return U(this.problem_set)}},{key:"validDueDate",get:function(){return L(this.problem_set)}},{key:"validAnswerDate",get:function(){return N(this.problem_set)}}]),t}(Object(Ge["c"])(Xe));O["a"]([Object(G["b"])()],rt.prototype,"selected_sets",void 0),O["a"]([Object(G["d"])("selected_sets")],rt.prototype,"selectedSetsChanged",null),rt=O["a"]([Object(G["a"])({name:"EditProblemSetsModal"})],rt);var at=rt,nt=at,ot=Object(p["a"])(nt,et,tt,!1,null,null,null),it=ot.exports,lt=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"addMessage",value:function(e){}},{key:"msgUpdateProblemSet",value:function(e,t){}}]),t}(r["a"]);lt=O["a"]([Ge["b"]],lt);var ct=lt,ut=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.fields=[{key:"set_id",sortable:!0,label:"Name"},{key:"assigned_users",sortable:!0,label:"Users",formatter:"numUsers"},{key:"problems",sortable:!0,label:"# Probs.",formatter:"numProbs"},{key:"visible",sortable:!0},{key:"enable_reduced_scoring",label:"RS"},{key:"open_date",sortable:!0,label:"Open Date",formatter:"formatDate"},{key:"reduced_scoring_date",sortable:!0,label:"Red. Sc. Date"},{key:"due_date",sortable:!0,label:"Due Date",formatter:"formatDate"},{key:"answer_date",sortable:!0,label:"Answer Date",formatter:"formatDate"}],e.selected_sets=[],e.show_time=!1,e.filter_string="",e.problem_set_tracker=1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"viewSetLink",value:function(e){return"set-view/"+e}},{key:"editRow",value:function(e){this.selected_sets=[e],this.$bvModal.show("edit-problem-sets-modal")}},{key:"rowSelected",value:function(e){this.selected_sets=e}},{key:"formatDate",value:function(e){return this.show_time?n.a.unix(e).format("MM/DD/YY [at] hh:mm a"):n.a.unix(e).format("MM/DD/YYYY")}},{key:"numUsers",value:function(e){return e.length+"/"+we.users.size}},{key:"numProbs",value:function(e){return e.length}},{key:"deleteSets",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.selected_sets.map((function(e){return e.set_id})),s=confirm("Are you sure you want to delete the following sets? "+t),!s){e.next=7;break}return r=this.selected_sets.map(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he.removeProblemSet(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(r);case 6:e.sent;case 7:this.problem_set_tracker+=1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"problem_sets",get:function(){return he.problem_sets}},{key:"problem_sets_as_array",get:function(){return this.problem_set_tracker&&Array.from(he.problem_sets.values())}}]),t}(Object(Ge["c"])(ct,Xe));ut=O["a"]([Object(G["a"])({name:"ProblemSetsManager",components:{AddProblemSetModal:Ze,EditProblemSetsModal:it}})],ut);var dt=ut,bt=dt,pt=Object(p["a"])(bt,Fe,Be,!1,null,null,null),mt=pt.exports,_t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-container",[s("b-row",{staticClass:"pb-3"},[s("b-col",{attrs:{cols:"3"}},[s("b-btn-toolbar",[s("b-input-group",{attrs:{size:"sm"},scopedSlots:e._u([{key:"append",fn:function(){return[s("b-btn",{on:{click:function(t){e.filter_string=""}}},[s("b-icon",{attrs:{icon:"x"}})],1)]},proxy:!0}])},[s("b-input",{attrs:{placeholder:"Filter"},model:{value:e.filter_string,callback:function(t){e.filter_string=t},expression:"filter_string"}})],1)],1)],1),s("b-col",{attrs:{cols:"3"}}),s("b-col",{attrs:{cols:"6"}},[s("b-btn-group",{attrs:{size:"sm"}},[s("b-dd",{attrs:{variant:"outline-dark",text:"Action on Selected"}},[s("b-dd-item",{attrs:{href:"#"}},[e._v("Email Users")]),s("b-dd-item",{directives:[{name:"b-modal",rawName:"v-b-modal.edit-users-modal",modifiers:{"edit-users-modal":!0}}]},[e._v("Edit Users")]),s("b-dd-item",{attrs:{href:"#"}},[e._v("Delete Users")])],1),s("b-dd",{attrs:{variant:"outline-dark",text:"Import/Export Users"}},[s("b-dd-item",{directives:[{name:"b-modal",rawName:"v-b-modal.import-students-file",modifiers:{"import-students-file":!0}}],attrs:{href:"#"}},[e._v(" Add Students from a File ")]),s("b-dd-item",{directives:[{name:"b-modal",rawName:"v-b-modal.import-students-manually",modifiers:{"import-students-manually":!0}}],attrs:{href:"#"}},[e._v(" Add Students Manually ")]),s("b-dd-item",{directives:[{name:"b-modal",rawName:"v-b-modal.export-students",modifiers:{"export-students":!0}}],attrs:{href:"#"}},[e._v(" Export Students to a File ")])],1),s("b-select",{model:{value:e.num_rows,callback:function(t){e.num_rows=t},expression:"num_rows"}},[s("option",{attrs:{default:"",value:"10"}},[e._v("Show 10 rows")]),s("option",{attrs:{value:"25"}},[e._v("Show 25 rows")]),s("option",{attrs:{value:"50"}},[e._v("Show 50 rows")]),s("option",{attrs:{value:"0"}},[e._v("Show all rows")])])],1)],1)],1),s("b-row",[s("b-table",{attrs:{items:e.users,fields:e.fields,small:!0,bordered:!0,"primary-key":"set_id",filter:e.filter_string,"current-page":e.current_page,"per-page":e.num_rows,selectable:""},on:{"row-selected":e.rowSelected},scopedSlots:e._u([{key:"email_address",fn:function(t){return[s("a",{attrs:{href:t.value}},[e._v("Email")])]}}])})],1),s("b-row",[s("b-col",[s("b-pagination",{attrs:{limit:"10","total-rows":e.users.length,"per-page":e.num_rows},model:{value:e.current_page,callback:function(t){e.current_page=t},expression:"current_page"}})],1)],1)],1),s("edit-users-modal",{attrs:{users:e.selected_users}}),s("import-students-file"),s("import-students-manually"),s("export-students")],1)},ft=[],ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"sfmodal",attrs:{size:"xl",id:"import-students-file",title:"Import Students from a File"}},[s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[s("b-form-file",{attrs:{state:Boolean(e.file),placeholder:"Choose a file...","drop-placeholder":"Drop file here..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),s("b-col",[s("div",{staticClass:"mt-2"},[e._v("Selected file: "+e._s(e.file?e.file.name:""))])]),s("b-col",[s("b-input-group",[s("b-btn",{attrs:{variant:"outline-dark",size:"sm"},on:{click:e.loadFile}},[e._v(" Load File ")]),s("b-checkbox",{staticClass:"ml-3",on:{change:e.useFirstRow},model:{value:e.ignoreFirstRow,callback:function(t){e.ignoreFirstRow=t},expression:"ignoreFirstRow"}},[e._v(" Use first row as header ")])],1)],1)],1),null!=e.data?s("b-row",e._l(e.numCols,(function(t){return s("b-col",{key:t},[s("b-select",{attrs:{options:e.headers,size:"sm"},model:{value:e.headerValues[t-1],callback:function(s){e.$set(e.headerValues,t-1,s)},expression:"headerValues[i - 1]"}})],1)})),1):e._e(),null!=e.data?s("b-row",[s("b-table",{attrs:{items:e.data,"per-page":10,"current-page":e.page,small:"",id:"import-table"}}),s("b-pagination",{attrs:{"total-rows":null==e.data?0:e.data.length,"per-page":10,"aria-controls":"myTable"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1):e._e()],1),s("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-btn-group",{staticClass:"float-right",attrs:{size:"sm"}},[s("b-btn",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.$bvModal.hide("import-students-file")}}},[e._v(" Cancel ")]),s("b-btn",{attrs:{variant:"outline-dark"},on:{click:e.addSelected}},[e._v(" Add Selected Students ")]),s("b-btn",{attrs:{variant:"primary"},on:{click:e.addAll}},[e._v("Add All Students")])],1)],1)],1)},vt=[],gt=(s("68b1"),s("2a8c"),s("0f9c")),yt=s("dc3c"),kt=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.file=new Blob,e.useFirstRow=!1,e.page=1,e.numCols=0,e.headerValues=[],e.headers=[{value:"user_id",text:"Login",regexp:"login|user"},{value:"first_name",text:"First Name",regexp:"first"},{value:"last_name",text:"Last Name",regexp:"last"},{value:"email_address",text:"Email",regexp:"email"},{value:"student_id",text:"Student ID",regexp:"student"},{value:"status",text:"Status",regexp:"status"},{value:"section",text:"Sect.",regexp:"section"},{value:"recitation",text:"Rec.",regexp:"recitation"},{value:"comment",text:"Comment",regexp:"comment"},{value:"permission",text:"Permission",regexp:"permission"}],e.firstRow=[],e.data=[],e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"loadFile",value:function(){var e=new FileReader;e.readAsText(this.file),e.onload=function(e){if(e){var t=Object(yt["readFileSync"])("sample.csv","utf8");Object(gt["parse"])(t,{complete:function(e){return console.dir(e.data)}})}}}},{key:"ignoreFirstRow",value:function(){var e=this;this.useFirstRow=!this.useFirstRow,this.headers.forEach((function(t){var s=new RegExp(t.regexp,"i"),r=e.firstRow.findIndex((function(e){return s.test(e)}));r>-1&&(e.headerValues[r]=t.value)}))}},{key:"addAll",value:function(){var e=this;this.useFirstRow&&this.data.shift();var t=this.data.map((function(t){return e.headerValues.reduce((function(e,s,r){return e[s]=t["col"+r],e}),{})}));t.forEach((function(t){return e.$store.dispatch("addUser",t)})),this.$bvModal.hide("import-students-file")}},{key:"addSelected",value:function(){this.$bvModal.hide("import-students-file")}}]),t}(G["c"]);kt=O["a"]([G["a"]],kt);var wt=kt,jt=wt,Ot=(s("89c8"),Object(p["a"])(jt,ht,vt,!1,null,"71f5af52",null)),xt=Ot.exports,St=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"addstudmodal",attrs:{size:"xl",id:"import-students-manually",title:"Import Students Manually"}},[s("b-container",{attrs:{fluid:""}},[s("b-row",[s("table",{staticClass:"table sm"},[s("thead",[s("th",[e._v("User ID")]),s("th",[e._v("First Name")]),s("th",[e._v("Last Name")]),s("th",[e._v("Email")]),s("th",[e._v("Student ID")]),s("th",[e._v("Stat.")]),s("th",[e._v("Sect.")]),s("th",[e._v("Rec.")]),s("th",[e._v("Comment")]),s("th",[e._v("Permission")])]),s("tbody",e._l(e.num_students,(function(t){return s("tr",{key:e.users[t-1].get("user_id")},[s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("user_id")}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("first_name")}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("last_name")}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("email_address"),type:"email"}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("student_id")}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("status")}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("section")}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("recitation")}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("comment")}})],1),s("td",[s("b-input",{attrs:{size:"sm",value:e.users[t-1].get("permission")}})],1)])})),0)])])],1),s("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-btn-group",{staticClass:"float-right",attrs:{size:"sm"}},[s("b-btn",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.$bvModal.hide("import-students-manually")}}},[e._v(" Cancel ")]),s("b-btn",{attrs:{variant:"primary"},on:{click:e.addAll}},[e._v("Add Students")])],1)],1)],1)},Ct=[],Et=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.num_students=0,e.users=[],e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"addAll",value:function(){console.log(this.users)}}]),t}(G["c"]);Et=O["a"]([Object(G["a"])({name:"ImportStudentsFiles"})],Et);var Dt=Et,Pt=Dt,Mt=Object(p["a"])(Pt,St,Ct,!1,null,null,null),Tt=Mt.exports,Rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"sfmodal",attrs:{size:"xl",id:"export-students",title:"Export Students to a File"}},[s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[s("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2",label:"Filename","label-for":"filename-input"}},[s("b-form-input",{attrs:{id:"filename-input"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1)],1),s("b-col",[s("b-btn",{attrs:{variant:"primary",disabled:e.clicked},on:{click:function(t){return e.download()}}},[e._v(" Download Classlist File ")])],1)],1)],1),s("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-btn-group",{staticClass:"float-right",attrs:{size:"sm"}},[s("b-btn",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.$bvModal.hide("export-students")}}},[e._v(" Close ")])],1)],1)],1)},zt=[],At=(s("8a741"),function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.filename="",e.clicked=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"download",value:function(){var e=Object(gt["unparse"])(we.users_array),t=new Blob([e],{type:"text/csv"}),s=document.createElement("a");s.href=URL.createObjectURL(t),s.download=this.filename,s.click(),URL.revokeObjectURL(s.href),this.clicked=!0}},{key:"mounted",value:function(){this.filename=_e.login_info.course_id+"_classlist_"+n.a().format("YYYY-MM-DD")+".csv"}}]),t}(G["c"]));At=O["a"]([G["a"]],At);var $t=At,Ut=$t,Lt=Object(p["a"])(Ut,Rt,zt,!1,null,null,null),Nt=Lt.exports,It=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{size:"xl",id:"edit-users-modal",title:"Edit Selected Users","ok-title":"Save and Close"},on:{ok:e.save}},[s("b-container",{attrs:{fluid:""}},[s("table",{staticClass:"table table-sm"},[s("thead",[s("th",[e._v("Login Name")]),s("th",[e._v("First Name")]),s("th",[e._v("Last Name")]),s("th",[e._v("Email")]),s("th",[e._v("Student ID")]),s("th",[e._v("Status")]),s("th",[e._v("Sect.")]),s("th",[e._v("Rec.")]),s("th",[e._v("Comment")]),s("th",[e._v("Permission")])]),s("tbody",e._l(e.users,(function(t){return s("tr",{key:t.user_id},[s("td",[e._v(e._s(t.user_id))]),s("td",[s("b-input",{attrs:{size:"sm"},model:{value:t.first_name,callback:function(s){e.$set(t,"first_name",s)},expression:"user.first_name"}})],1),s("td",[s("b-input",{attrs:{size:"sm"},model:{value:t.last_name,callback:function(s){e.$set(t,"last_name",s)},expression:"user.last_name"}})],1),s("td",[s("b-input",{attrs:{type:"email",size:"sm"},model:{value:t.email_address,callback:function(s){e.$set(t,"email_address",s)},expression:"user.email_address"}})],1),s("td",[s("b-input",{attrs:{size:"sm"},model:{value:t.student_id,callback:function(s){e.$set(t,"student_id",s)},expression:"user.student_id"}})],1),s("td",[s("b-input",{attrs:{size:"sm"},model:{value:t.status,callback:function(s){e.$set(t,"status",s)},expression:"user.status"}})],1),s("td",[s("b-input",{attrs:{size:"sm"},model:{value:t.section,callback:function(s){e.$set(t,"section",s)},expression:"user.section"}})],1),s("td",[s("b-input",{attrs:{size:"sm"},model:{value:t.recitation,callback:function(s){e.$set(t,"recitation",s)},expression:"user.recitation"}})],1),s("td",[s("b-input",{attrs:{size:"sm"},model:{value:t.comment,callback:function(s){e.$set(t,"comment",s)},expression:"user.comment"}})],1),s("td",[s("b-input",{attrs:{size:"sm"},model:{value:t.permission,callback:function(s){e.$set(t,"permission",s)},expression:"user.permission"}})],1)])})),0)])])],1)},Yt=[],Ft=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"save",value:function(){this.users.forEach((function(e){return we.updateUser(e)})),this.$bvModal.hide("edit-users-modal")}}]),t}(G["c"]);O["a"]([Object(G["b"])()],Ft.prototype,"users",void 0),Ft=O["a"]([G["a"]],Ft);var Bt=Ft,Gt=Bt,Vt=Object(p["a"])(Gt,It,Yt,!1,null,null,null),Ht=Vt.exports,Wt=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.fields=[{key:"user_id",sortable:!0,label:"Login"},{key:"first_name",sortable:!0,label:"First Name"},{key:"last_name",sortable:!0,label:"Last Name"},{key:"email_address",sortable:!1,label:"Email"},{key:"student_id",sortable:!0,label:"Student ID"},{key:"status",sortable:!0,formatter:"formatStatus"},{key:"section",sortable:!0,label:"Sect."},{key:"recitation",sortable:!0,label:"Rec."},{key:"comment",sortable:!0,label:"Comment"},{key:"permission",sortable:!0,label:"Permission",formatter:"formatPermission"}],e.selected_users=[],e.filter_string="",e.num_rows=10,e.current_page=1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"formatStatus",value:function(e){return I.userTypes()[e]}},{key:"formatPermission",value:function(e){return I.permissionLevels()[e]}},{key:"rowSelected",value:function(e){this.selected_users=e}},{key:"editRow",value:function(e){console.log(e),this.selected_users=[e]}},{key:"users",get:function(){return Array.from(we.users.values())}}]),t}(G["c"]);Wt=O["a"]([Object(G["a"])({name:"ClasslistManager",components:{ImportStudentsFile:xt,ImportStudentsManually:Tt,EditUsersModal:Ht,ExportStudents:Nt}})],Wt);var Xt=Wt,qt=Xt,Jt=Object(p["a"])(qt,_t,ft,!1,null,null,null),Kt=Jt.exports,Qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("b-row",{staticClass:"pb-2"},[s("b-col",[s("span",{attrs:{id:"month-name"}},[e._v(" "+e._s(e.monthName))])]),s("b-col",[s("b-btn-toolbar",{attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[s("b-btn-group",{attrs:{size:"sm"}},[s("b-btn",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.changeWeek(-1)}}},[e._v(" Previous Week ")]),s("b-btn",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.today()}}},[e._v("Today")]),s("b-btn",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.changeWeek(1)}}},[e._v(" Next Week ")])],1)],1)],1),s("b-col",[s("b-btn",{attrs:{size:"sm",variant:"outline-dark"},on:{click:function(t){e.sidebar_shown=!e.sidebar_shown}}},[e._v(" "+e._s((e.sidebar_shown?"Hide ":"Show ")+"Problem Sets")+" ")])],1)],1),s("b-row",[s("b-col",[s("table",{staticClass:"table table-bordered table-sm",attrs:{id:"cal-table"}},[s("thead",{staticClass:"thead-light"},e._l(e.dayNames,(function(t){return s("th",{key:t},[e._v(e._s(t))])})),0),s("tbody",e._l(e.first_days(),(function(t){return s("CalendarRow",{key:e.first_day_of_calendar.format("DD")+":"+t.format("DD-MM-YYYY"),attrs:{first_day_of_week:t,problem_sets:e.problem_sets,all_assignment_dates:e.all_assignment_dates}})})),1)])]),e.sidebar_shown?s("b-col",{attrs:{cols:"2"}},[s("h4",[e._v("Problem Sets")]),s("b-list-group",[s("draggable",{attrs:{group:"calendar",sort:!1,"ghost-class":"ghost"},on:{start:function(t){e.dragging=!0},end:function(t){e.dragging=!1}},model:{value:e.problem_sets,callback:function(t){e.problem_sets=t},expression:"problem_sets"}},e._l(e.problem_set_names,(function(t){return s("b-list-group-item",{key:t,staticClass:"assignment-list"},[e._v(" "+e._s(t)+" ")])})),1)],1)],1):e._e()],1)],1)},Zt=[],es=(s("ed4c"),s("2348"),s("f004")),ts=s.n(es),ss=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",e._l(e.week,(function(t,r){return s("td",{key:t.format("YYYY-MM-DD"),staticClass:"cal-day",class:e.dayClass(t)},[e._v(" "+e._s(e.shortDate(t))+" "),s("draggable",{staticClass:"assignments",attrs:{group:"calendar"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1},change:function(s){return e.assignChange(t,s)}},model:{value:e.assignment_info[r],callback:function(t){e.$set(e.assignment_info,r,t)},expression:"assignment_info[index]"}},e._l(e.assignment_info[r],(function(t){return s("div",{key:t.id,staticClass:"assign border rounded border-dark pl-1 p-0",class:t.type},[e._v(" "+e._s(t.set_id)+" ")])})),0)],1)})),0)},rs=[],as=(s("a70a"),function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.today=n.a(),e.drag=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"changin",value:function(){console.log("assignment_info changed"),console.log(this.assignment_info)}},{key:"dayClass",value:function(e){return this.today.isSame(e,"day")?"today":this.today.isSame(e,"month")?"current-month":"extra-month"}},{key:"shortDate",value:function(e){return 1===e.get("date")?e.format("MMM D"):e.get("date").toString()}},{key:"assignChange",value:function(e,t){if(console.log("dropping onto"),console.log(e.format("MM/DD/YYYY")),t.hasOwnProperty("added")){var s=n.a(e),r={},o=he.problem_sets.get(t.added.element.set_id);if(t.added.element.date)s.hours(t.added.element.date.hours()),s.minutes(t.added.element.date.minutes()),r[t.added.element.type+"_date"]=s.unix();else if(t.added.element.due_date){var i=n.a(s),l=n.a(s);l.subtract(7,"days");var c=n.a(s);c.add(7,"days"),r.due_date=s.unix(),r.reduced_scoring_date=i.unix(),r.open_date=l.unix(),r.answer_date=c.unix()}console.log(r);var u=Object.keys(r).reduce((function(e,t){return e[t]=a["unix"](r[t]).format("MM/DD/YYYY"),e}),{});console.log(u),o&&(console.log("in assignChange"),Object.assign(o,r),he.updateProblemSet(o))}}},{key:"week",get:function(){var e=this;return[0,1,2,3,4,5,6].map((function(t){return n.a(e.first_day_of_week).add(t,"days")}))}},{key:"assignment_info",get:function(){var e=this;return console.log("in get assignment_info"),this.week.map((function(t){return e.all_assignment_dates.filter((function(e){return e.date.isSame(t,"day")}))}))}}]),t}(G["c"]));O["a"]([Object(G["b"])()],as.prototype,"first_day_of_week",void 0),O["a"]([Object(G["b"])()],as.prototype,"problem_sets",void 0),O["a"]([Object(G["b"])()],as.prototype,"all_assignment_dates",void 0),O["a"]([Object(G["d"])("assignment_info")],as.prototype,"changin",null),as=O["a"]([Object(G["a"])({name:"CalendarRow",components:{Draggable:ts.a}})],as);var ns=as,os=ns,is=Object(p["a"])(os,ss,rs,!1,null,null,null),ls=is.exports,cs=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.first_day_of_calendar=n.a(),e.all_assignment_dates=[],e.sidebar_shown=!1,e.dragging=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"checkMove",value:function(){console.log("in checkMove")}},{key:"created",value:function(){var e=this;this.updateAssignmentDates(),this.$store.subscribe((function(t,s){t&&"problem_set_store"===t.type.split("/")[0]&&e.updateAssignmentDates()}))}},{key:"updateAssignmentDates",value:function(){this.problem_sets;this.all_assignment_dates=this.problem_sets.flatMap((function(e){return[{date:a["unix"](e.answer_date),type:"answer",set_id:e.set_id},{date:a["unix"](e.due_date),type:"due",set_id:e.set_id},{date:a["unix"](e.reduced_scoring_date),type:"reduced",set_id:e.set_id},{date:a["unix"](e.open_date),type:"open",set_id:e.set_id}]})).map((function(e){return Object.assign(e,{id:e.set_id+"___"+e.type})})),console.log(this.all_assignment_dates.filter((function(e){return"HW2"===e.set_id&&"answer"===e.type})))}},{key:"changeWeek",value:function(e){this.first_day_of_calendar=n.a(this.first_day_of_calendar).add(7*e,"days")}},{key:"today",value:function(){var e=n.a();this.first_day_of_calendar=n.a().subtract(e.days(),"days");while(this.first_day_of_calendar.isSame(e,"month"))this.first_day_of_calendar=this.first_day_of_calendar.subtract(7,"days")}},{key:"first_days",value:function(){var e=this;return[0,1,2,3,4,5].map((function(t){return n.a(e.first_day_of_calendar).add(7*t,"days")}))}},{key:"monthName",get:function(){return n.a().format("MMMM YYYY")}},{key:"dayNames",get:function(){return a["weekdays"]()}},{key:"problem_sets",get:function(){return Array.from(he.problem_sets.values())},set:function(e){}},{key:"problem_set_names",get:function(){return he.set_names}}]),t}(G["c"]);cs=O["a"]([Object(G["a"])({name:"Calendar",components:{CalendarRow:ls,Draggable:ts.a}})],cs);var us=cs,ds=us,bs=(s("1a25"),Object(p["a"])(ds,Qt,Zt,!1,null,null,null)),ps=bs.exports,ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("b-tabs",{attrs:{"content-class":"mt-3"}},[s("b-tab",{attrs:{title:"General",active:""}},[s("settings-tab",{attrs:{name:"General",settings:e.filterSettings("General")}})],1),s("b-tab",{attrs:{title:"Optional Modules"}},[s("settings-tab",{attrs:{name:"Optional Modules",settings:e.filterSettings("Optional Modules")}})],1),s("b-tab",{attrs:{title:"Permissions"}},[s("settings-tab",{attrs:{name:"Permissions",settings:e.filterSettings("Permissions")}})],1),s("b-tab",{attrs:{title:"Problem Display"}},[s("settings-tab",{attrs:{name:"Problem Display",settings:e.filterSettings("PG - Problem Display/Answer Checking")}})],1),s("b-tab",{attrs:{title:"Email"}},[s("settings-tab",{attrs:{name:"Permissions",settings:e.filterSettings("Permissions")}})],1),s("b-tab",{attrs:{title:"Editor"}},[s("settings-tab",{attrs:{name:"Editor",settings:e.filterSettings("Editor")}})],1),s("b-tab",{attrs:{title:"WW3-UI"}},[s("settings-tab",{attrs:{name:"WW3-UI",settings:e.filterSettings("WW3-UI")}})],1)],1)],1)},_s=[],fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("table",{staticClass:"table table-sm bordered"},e._l(e.settings,(function(e){return s("settings-row",{key:e.var,attrs:{setting:e}})})),1)])},hs=[],vs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("p",[s("span",{domProps:{innerHTML:e._s(e.setting.doc)}}),e._v(" "),s("b-icon",{attrs:{icon:"question-fill",size:"lg"},on:{click:function(t){e.show_help=!e.show_help}}})],1),e.show_help?s("div",{staticClass:"help-box border p-2 rounded"},[s("span",{staticClass:"float-right rounded border p-1",on:{click:function(t){e.show_help=!1}}},[s("b-icon",{attrs:{icon:"x"}})],1),s("span",{domProps:{innerHTML:e._s(e.setting.doc2)}})]):e._e()]),e.is_duration?s("td",[s("b-form-group",{attrs:{label:"hours:minutes:seconds"}},[s("b-input",{attrs:{size:"sm","label-size":"sm",state:e.valid_duration,trim:""},on:{blur:e.updateDuration},model:{value:e.duration,callback:function(t){e.duration=t},expression:"duration"}})],1)],1):"text"==e.setting.type?s("td",[s("b-input",{attrs:{size:"sm",value:e.setting.value},on:{blur:function(t){return e.updateSetting(t.target.value)}}})],1):"number"==e.setting.type?s("td",[s("b-input",{attrs:{type:"number",size:"sm",value:e.setting.value},on:{blur:function(t){return e.updateSetting(t.target.value)}}})],1):"popuplist"==e.setting.type?s("td",[s("b-select",{attrs:{size:"sm",value:e.setting.value,options:e.setting.values},on:{change:function(t){return e.updateSetting(t)}}})],1):"boolean"===e.setting.type?s("td",[s("b-checkbox",{attrs:{value:e.setting.value},on:{change:function(t){return e.updateSetting(t)}}})],1):"permission"===e.setting.type?s("td",[s("b-select",{attrs:{size:"sm",value:e.setting.value,options:e.permission_levels},on:{change:function(t){return e.updateSetting(t)}}})],1):"timezone"===e.setting.type?s("td",[e._v("NEED TO FINISH")]):"time"===e.setting.type?s("td",[s("b-input",{attrs:{type:"time",size:"sm",value:e._f("valueAsTime")(e.setting.value)},on:{blur:function(t){return e.updateTimeSetting(t.target.value)}}})],1):"checkboxlist"===e.setting.type?s("td",[s("b-checkbox-group",{attrs:{options:e.setting.values,stacked:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e()])},gs=[],ys=(s("b371"),s("1837"),s("1a5b"),function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.selected=[],e.show_help=!1,e.duration="",e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"formatDuration",value:function(e){var t=Math.floor(e/3600),s=Math.floor(e%3600/60),r=e%60;return t+":"+(s<10?"0"+s:s)+":"+(r<10?"0"+r:r)}},{key:"parseDuration",value:function(e){var t=e.match(/^(\d+):([0-5]\d):([0-5]\d)$/);return t?3600*parseInt(t[1],10)+60*parseInt(t[2],10)+parseInt(t[3],10):0}},{key:"updateDuration",value:function(){this.valid_duration&&this.updateSetting(this.parseDuration(this.duration))}},{key:"updateTimeSetting",value:function(e){this.updateSetting(n.a(e,["HH:mm"]).format("hh:mmA"))}},{key:"updateSetting",value:function(e){var t=Object.assign({},this.setting);t.value=e,De.updateSetting(t)}},{key:"created",value:function(){"checkboxlist"===this.setting.type?this.selected=this.setting.value:this.is_duration&&(this.duration=this.formatDuration(this.setting.value))}},{key:"selectedChange",value:function(e,t){JSON.stringify(e)!==JSON.stringify(this.setting.value)&&this.updateSetting(e)}},{key:"permission_levels",get:function(){return Object.values(I.permissionLevels())}},{key:"is_duration",get:function(){return["sessionKeyTimeout","pg{assignOpenPriorToDue}","pg{answersOpenAfterDueDate}"].includes(this.setting["var"])}},{key:"valid_duration",get:function(){return/^(\d+):([0-5]\d):([0-5]\d)$/.test(this.duration)}}]),t}(G["c"]));O["a"]([Object(G["b"])()],ys.prototype,"setting",void 0),O["a"]([Object(G["d"])("selected")],ys.prototype,"selectedChange",null),ys=O["a"]([Object(G["a"])({name:"SettingsTab",filters:{valueAsTime:function(e){return n.a(e,["hh:mmA"]).format("HH:mm")}}})],ys);var ks=ys,ws=ks,js=(s("0554"),Object(p["a"])(ws,vs,gs,!1,null,"734d6ea7",null)),Os=js.exports,xs=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),t}(G["c"]);O["a"]([Object(G["b"])()],xs.prototype,"name",void 0),O["a"]([Object(G["b"])()],xs.prototype,"settings",void 0),xs=O["a"]([Object(G["a"])({name:"SettingsTab",components:{SettingsRow:Os}})],xs);var Ss=xs,Cs=Ss,Es=Object(p["a"])(Cs,fs,hs,!1,null,null,null),Ds=Es.exports,Ps=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"filterSettings",value:function(e){return De.settings_array.filter((function(t){return t.category===e}))}}]),t}(G["c"]);Ps=O["a"]([Object(G["a"])({name:"Settings",components:{SettingsTab:Ds}})],Ps);var Ms=Ps,Ts=Ms,Rs=Object(p["a"])(Ts,ms,_s,!1,null,null,null),zs=Rs.exports,As=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("b-tabs",{attrs:{"content-class":"mt-3"}},[s("b-tab",{attrs:{title:"Set Details",active:""}},[s("set-info",{attrs:{problem_sets:e.problem_sets_array,selected_problem_set:e.problem_set}})],1),s("b-tab",{attrs:{title:"Gateway Info",disabled:!e.is_gateway}},[s("gateway-info",{attrs:{selected_problem_set:e.problem_set}})],1),s("b-tab",{attrs:{title:"Problems"}},[s("problem-list-view",{attrs:{problem_set:e.problem_set}})],1),s("b-tab",{attrs:{title:"Assign Users"}},[s("assign-users",{attrs:{problem_set:e.problem_set}})],1),s("b-tab",{attrs:{title:"Set Headers"}},[s("set-headers",{attrs:{problem_set:e.problem_set}})],1)],1)],1)},$s=[],Us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return"XXX"!==e.problem_set.set_id?s("table",{staticClass:"table table-sm set-info-table"},[s("tbody",[s("tr",[s("td",{staticClass:"header"},[e._v("Set Name")]),s("td",[e._v(e._s(e.problem_set.set_id.replace("_"," ")))])]),s("tr",[s("td",[s("b-form-group",{staticClass:"header",attrs:{label:"Open Date"}},[s("b-input",{attrs:{size:"sm",type:"datetime-local",value:e._f("formatDateTime")(e.problem_set.open_date)},on:{blur:function(t){e.setOpenDate(e.problem_set,t.target.value),e.save()}}})],1)],1),s("td",[s("b-form-group",{staticClass:"header",attrs:{label:"Reduced Scoring Date","invalid-feedback":"This date must be after the open date."}},[s("b-input",{attrs:{size:"sm",value:e._f("formatDateTime")(e.problem_set.reduced_scoring_date),type:"datetime-local",state:e.validReducedScoring},on:{blur:function(t){e.setReducedScoringDate(e.problem_set,t.target.value),e.save()}}})],1)],1)]),s("tr",[s("td",[s("b-form-group",{staticClass:"header",attrs:{label:"Due Date","invalid-feedback":"This date must be after the reduced scoring date."}},[s("b-input",{attrs:{size:"sm",value:e._f("formatDateTime")(e.problem_set.due_date),type:"datetime-local",state:e.validDueDate},on:{blur:function(t){e.setDueDate(e.problem_set,t.target.value),e.save()}}})],1)],1),s("td",[s("b-form-group",{staticClass:"header",attrs:{label:"Answer Date","invalid-feedback":"This date must be after the due date."}},[s("b-form-input",{attrs:{size:"sm",value:e._f("formatDateTime")(e.problem_set.answer_date),type:"datetime-local",state:e.validAnswerDate},on:{blur:function(t){e.setAnswerDate(e.problem_set,t.target.value),e.save()}}})],1)],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Problem Set Visible to Users")]),s("td",[s("b-form-checkbox",{on:{change:e.save},model:{value:e.problem_set.visible,callback:function(t){e.$set(e.problem_set,"visible",t)},expression:"problem_set.visible"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Reduced Scoring Enabled")]),s("td",[s("b-form-checkbox",{on:{change:e.save},model:{value:e.problem_set.enable_reduced_scoring,callback:function(t){e.$set(e.problem_set,"enable_reduced_scoring",t)},expression:"problem_set.enable_reduced_scoring"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Hide Hints from Users")]),s("td",[s("b-form-checkbox",{on:{change:e.save},model:{value:e.problem_set.hide_hint,callback:function(t){e.$set(e.problem_set,"hide_hint",t)},expression:"problem_set.hide_hint"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Set Type")]),s("td",[s("b-form-select",{attrs:{size:"sm"},on:{change:e.save},model:{value:e.problem_set.assignment_type,callback:function(t){e.$set(e.problem_set,"assignment_type",t)},expression:"problem_set.assignment_type"}},[s("option",{attrs:{value:"set"}},[e._v("Homework")]),s("option",{attrs:{value:"gateway"}},[e._v("Gateway/Quiz")]),s("option",{attrs:{value:"proctored_gateway"}},[e._v("Proctored Gateway/Quiz")])])],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Number of Problems in Set")]),s("td",[e._v(e._s(e.problemsLength))])]),s("tr",[s("td",{staticClass:"header"},[e._v("Users Assigned:")]),s("td",[s("span",{staticStyle:{}},[e._v(e._s(e.users_assigned)+"/"+e._s(e.num_users))]),s("b-btn",{staticClass:"float-right",attrs:{size:"sm",variant:"outline-dark"},on:{click:e.assignAllUsers}},[e._v(" Assign to All Users ")])],1)])])]):e._e()},Ls=[],Ns=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.pg_password="",e.problem_set=R(),e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"save",value:function(){L(this.problem_set)&&U(this.problem_set)&&N(this.problem_set)&&he.updateProblemSet(this.problem_set)}},{key:"assignAllUsers",value:function(){console.log("in assignAllUsers"),this.problem_set.assigned_users=Array.from(we.users.keys()),this.save()}},{key:"problemSetChanged",value:function(e,t){e&&t&&e.set_id!==t.set_id&&("undefined"===typeof this.problem_set&&(this.problem_set=this.emptySet()),Object.assign(this.problem_set,this.selected_problem_set))}},{key:"problemsLength",get:function(){return this.problem_set&&this.problem_set.problems?this.problem_set.problems.length:0}},{key:"users_assigned",get:function(){return this.problem_set.assigned_users.length}},{key:"num_users",get:function(){return we.users.size}},{key:"validReducedScoring",get:function(){return U(this.problem_set)}},{key:"validDueDate",get:function(){return L(this.problem_set)}},{key:"validAnswerDate",get:function(){return N(this.problem_set)}}]),t}(Object(Ge["c"])(ct,Xe));O["a"]([Object(G["b"])()],Ns.prototype,"problem_sets",void 0),O["a"]([Object(G["b"])()],Ns.prototype,"selected_problem_set",void 0),O["a"]([Object(G["d"])("selected_problem_set",{deep:!0})],Ns.prototype,"problemSetChanged",null),Ns=O["a"]([Object(G["a"])({name:"SetInfo"})],Ns);var Is=Ns,Ys=Is,Fs=(s("f088"),Object(p["a"])(Ys,Us,Ls,!1,null,null,null)),Bs=Fs.exports,Gs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return"XXX"!==e.problem_set.set_id?s("table",{staticClass:"table table-sm set-info-table"},[s("tbody",[e.proctored?s("tr",[s("td",{staticClass:"header",staticStyle:{color:"darkblue","font-style":"italic"}},[e._v(" Proctored Gateway/Quiz parameters ")]),s("td")]):e._e(),e.proctored?s("tr",[s("td",{attrs:{colspan:"2"}},[e._v(" Proctored tests require proctor authorization to start and to grade. Provide a password to have a single password for all students to start a proctored test. ")])]):e._e(),e.proctored?s("tr",[s("td",{staticClass:"w-50 header"},[e._v(" Password (Leave blank for regular proctoring) ")]),s("td",{staticClass:"w-25"},[s("b-input",{attrs:{size:"sm",type:"password"},model:{value:e.problem_set.pg_password,callback:function(t){e.$set(e.problem_set,"pg_password",t)},expression:"problem_set.pg_password"}})],1)]):e._e(),s("tr",[s("td",{staticClass:"header"},[e._v("Test Time Limit (min; 0=Due Date)")]),s("td",[s("b-input",{attrs:{size:"sm",type:"number"},on:{change:e.save},model:{value:e.problem_set.version_time_limit,callback:function(t){e.$set(e.problem_set,"version_time_limit",t)},expression:"problem_set.version_time_limit"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Cap Test Time at Set Due Date?")]),s("td",[s("b-checkbox",{on:{change:e.save},model:{value:e.problem_set.time_limit_cap,callback:function(t){e.$set(e.problem_set,"time_limit_cap",t)},expression:"problem_set.time_limit_cap"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Number of Graded Submissions per Test (0=infty)")]),s("td",[s("b-input",{attrs:{size:"sm",type:"number"},on:{change:e.save},model:{value:e.problem_set.attempts_per_version,callback:function(t){e.$set(e.problem_set,"attempts_per_version",t)},expression:"problem_set.attempts_per_version"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v(" Time Interval for New Test Versions (min; 0=infty) ")]),s("td",[s("b-input",{attrs:{size:"sm",type:"number"},on:{change:e.save},model:{value:e.problem_set.time_interval,callback:function(t){e.$set(e.problem_set,"time_interval",t)},expression:"problem_set.time_interval"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Number of Tests per Time Interval (0=infty)")]),s("td",[s("b-input",{attrs:{size:"sm",type:"number"},on:{change:e.save},model:{value:e.problem_set.version_per_interval,callback:function(t){e.$set(e.problem_set,"version_per_interval",t)},expression:"problem_set.version_per_interval"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Order Problems Randomly")]),s("td",[s("b-checkbox",{on:{change:e.save},model:{value:e.problem_set.problem_randorder,callback:function(t){e.$set(e.problem_set,"problem_randorder",t)},expression:"problem_set.problem_randorder"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Number of Problems per Page (0=all)")]),s("td",[s("b-input",{attrs:{size:"sm",type:"number"},on:{change:e.save},model:{value:e.problem_set.problems_per_page,callback:function(t){e.$set(e.problem_set,"problems_per_page",t)},expression:"problem_set.problems_per_page"}})],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Show Scores on Finished Assignments?")]),s("td",[s("b-form-select",{attrs:{size:"sm"},on:{change:e.save},model:{value:e.problem_set.hide_score,callback:function(t){e.$set(e.problem_set,"hide_score",t)},expression:"problem_set.hide_score"}},[s("option",{attrs:{value:"Y"}},[e._v("Yes")]),s("option",{attrs:{value:"N"}},[e._v("No")]),s("option",{attrs:{value:"BeforeAnswerDate"}},[e._v(" Only After Set Answer Date ")])])],1)]),s("tr",[s("td",{staticClass:"header"},[e._v("Show Problems on Finished Tests?")]),s("td",[s("b-form-select",{attrs:{size:"sm"},on:{change:e.save},model:{value:e.problem_set.hide_work,callback:function(t){e.$set(e.problem_set,"hide_work",t)},expression:"problem_set.hide_work"}},[s("option",{attrs:{value:"N"}},[e._v("Yes")]),s("option",{attrs:{value:"Y"}},[e._v("No")]),s("option",{attrs:{value:"BeforeAnswerDate"}},[e._v("Only After Set Answer Date")])])],1)])])]):e._e()},Vs=[],Hs=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.problem_set=R(),e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"save",value:function(){he.updateProblemSet(this.problem_set)}},{key:"selectedSetChanged",value:function(e,t){e&&t&&e.set_id!==t.set_id&&("undefined"===typeof this.problem_set&&(this.problem_set=R()),Object.assign(this.problem_set,this.selected_problem_set))}},{key:"proctored",get:function(){return"proctored_gateway"===this.problem_set.assignment_type}}]),t}(G["c"]);O["a"]([Object(G["b"])()],Hs.prototype,"selected_problem_set",void 0),O["a"]([Object(G["d"])("selected_problem_set",{deep:!0})],Hs.prototype,"selectedSetChanged",null),Hs=O["a"]([Object(G["a"])({name:"GatewayInfo"})],Hs);var Ws=Hs,Xs=Ws,qs=(s("748e"),Object(p["a"])(Xs,Gs,Vs,!1,null,null,null)),Js=qs.exports,Ks=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"scrollable"},[s("draggable",{attrs:{handle:".drag-handle",move:e.reordered},model:{value:e.problems,callback:function(t){e.problems=t},expression:"problems"}},e._l(e.problems,(function(e){return s("ProblemView",{key:e.problem_id,attrs:{problem:e,type:"set"}})})),1)],1)},Qs=[],Zs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"problem p-2 rounded"},[s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("b-row",[e.prop.numbered?s("b-col",{attrs:{cols:"2"}},[s("b-input-group",{attrs:{size:"sm"}},[s("span",{staticClass:"problem-id"},[e._v(e._s(e.problem.problem_id))])])],1):e._e(),e.prop.value?s("b-col",{attrs:{cols:"4"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-input-group-text",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Value:")]),s("b-input",{attrs:{type:"number"},model:{value:e.problem.value,callback:function(t){e.$set(e.problem,"value",t)},expression:"problem.value"}})],1)],1):e._e(),e.prop.attempts?s("b-col",{attrs:{cols:"4"}},[s("b-input-group",{attrs:{size:"sm",prepend:"Max. Att.:"}},[s("b-input",{attrs:{type:"number"},model:{value:e.problem.max_attempts,callback:function(t){e.$set(e.problem,"max_attempts",t)},expression:"problem.max_attempts"}})],1)],1):e._e()],1)],1),s("b-col",{attrs:{cols:"5"}},[s("b-btn-toolbar",[s("b-btn-group",{attrs:{size:"sm"}},[e.prop.add?s("b-btn",{attrs:{variant:"outline-dark",title:"add problem"},on:{click:function(t){return e.$emit("add-problem",e.problem)}}},[s("b-icon",{attrs:{icon:"plus"}})],1):e._e(),e.prop.edit?s("b-btn",{attrs:{variant:"outline-dark",title:"edit",disabled:""}},[s("b-icon",{attrs:{icon:"pencil"}})],1):e._e(),e.prop.randomize?s("b-btn",{attrs:{variant:"outline-dark",title:"randomize"},on:{click:e.randomize}},[s("b-icon",{attrs:{icon:"arrow-clockwise"}})],1):e._e(),e.prop.delete?s("b-btn",{attrs:{variant:"outline-dark",title:"delete problem"}},[s("b-icon",{attrs:{icon:"trash"}})],1):e._e(),e.prop.mark_all?s("b-btn",{attrs:{variant:"outline-dark",title:"Mark this problem correct for all assigned users.",disabled:""}},[s("b-icon",{attrs:{icon:"check"}})],1):e._e(),e.prop.tags?s("b-btn",{attrs:{variant:"outline-dark",title:"show/hide tags"}},[s("b-icon",{attrs:{icon:"tag"}})],1):e._e(),e.prop.path?s("b-btn",{attrs:{variant:e.show_path?"success":"outline-dark",title:"show/hide path"},on:{click:function(t){e.show_path=!e.show_path}}},[s("b-icon",{attrs:{icon:"document-code"}})],1):e._e(),e.prop.target_set?s("b-btn",{attrs:{variant:"outline-dark",title:"This problem is in the target set."}},[s("b-icon",{attrs:{icon:"bullseye"}})],1):e._e()],1)],1)],1),s("b-col",{attrs:{cols:"1"}},[e.prop.reorder?s("b-btn-group",{staticClass:"float-right",attrs:{size:"sm"}},[s("b-btn",{staticClass:"drag-handle border border-dark rounded p-2",attrs:{variant:"outline-dark"}},[s("b-icon",{attrs:{icon:"arrow-up-down"}})],1)],1):e._e()],1)],1),e.show_path?s("b-row",[e._v(" Path: "+e._s(e.problem.source_file)+" ")]):e._e(),s("b-row",[""==e.html?s("div",{staticClass:"text-center"},[s("b-spinner",{attrs:{variant:"info"}})],1):s("div",{staticClass:"problem-tag-container",domProps:{innerHTML:e._s(e.html)}})])],1)],1)},er=[],tr=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.html="",e.show_tags=!1,e.show_path=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"mounted",value:function(){this.fetchProblem()}},{key:"fetchProblem",value:function(e){var t=this;this.html="",u.a.get("/webwork3/api/renderer/courses/"+_e.login_info.course_id+"/problems/0",{params:Object.assign({},this.problem,e)}).then((function(e){t.html=e.data.text}))}},{key:"addProblem",value:function(e){console.log(e)}},{key:"randomize",value:function(){this.fetchProblem({problem_seed:Math.floor(1e4*Math.random())})}},{key:"problemChange",value:function(e,t){console.log("in problem changed"),this.fetchProblem()}},{key:"updated",value:function(){}},{key:"prop",get:function(){return"library"===this.type?M:T}}]),t}(G["c"]);O["a"]([Object(G["b"])()],tr.prototype,"problem",void 0),O["a"]([Object(G["b"])()],tr.prototype,"type",void 0),O["a"]([Object(G["d"])("problem")],tr.prototype,"problemChange",null),tr=O["a"]([Object(G["a"])({name:"ProblemView"})],tr);var sr=tr,rr=sr,ar=(s("abbd"),Object(p["a"])(rr,Zs,er,!1,null,null,null)),nr=ar.exports,or=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"reordered",value:function(){console.log("in reordered")}},{key:"problems",get:function(){return void 0===this.problem_set?[]:this.problem_set.problems},set:function(e){this.problem_set.problems=e}}]),t}(G["c"]);O["a"]([Object(G["b"])()],or.prototype,"problem_set",void 0),or=O["a"]([Object(G["a"])({name:"ProblemListView",components:{ProblemView:nr,Draggable:ts.a}})],or);var ir=or,lr=ir,cr=Object(p["a"])(lr,Ks,Qs,!1,null,null,null),ur=cr.exports,dr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"2"}},[s("b-select",{attrs:{size:"sm",variant:"outline-dark"},model:{value:e.list_type,callback:function(t){e.list_type=t},expression:"list_type"}},[s("option",{attrs:{value:"assigned"}},[e._v("Assigned Users")]),s("option",{attrs:{value:"unassigned"}},[e._v("Unassigned Users")]),s("option",{attrs:{value:"all"}},[e._v("All Users")])])],1),s("b-col",{attrs:{cols:"3"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-input-group-text",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("Filter:")]),s("b-input",{attrs:{debounce:"250"},model:{value:e.filter_text,callback:function(t){e.filter_text=t},expression:"filter_text"}})],1)],1),s("b-col",{attrs:{cols:"4"}},[s("b-form-group",[s("b-form-checkbox-group",{model:{value:e.show_info,callback:function(t){e.show_info=t},expression:"show_info"}},[s("b-form-checkbox",{attrs:{value:"section"}},[e._v("Show Section")]),s("b-form-checkbox",{attrs:{value:"recitation"}},[e._v(" Show Recitation ")])],1)],1)],1),"unassigned"===e.list_type?s("b-col",{attrs:{cols:"2"}},[s("b-btn",{attrs:{variant:"outline-dark",size:"sm"},on:{click:e.assignUsers}},[e._v(" Assign to Selected Users ")])],1):s("b-col",{attrs:{cols:"2"}},[s("b-btn",{attrs:{variant:"outline-dark",size:"sm"},on:{click:e.save}},[e._v(" Save Override Dates ")])],1)],1),"assigned"===e.list_type?s("b-row",[s("b-col",{attrs:{cols:"3"}},[s("b-form-group",{staticClass:"header",attrs:{label:"Open Date"}},[s("b-input",{attrs:{size:"sm",type:"datetime-local",value:e._f("formatDateTime")(e.override_dates.open_date)},on:{blur:function(t){return e.setOpenDate(e.override_dates,t.target.value)}}})],1)],1),s("b-col",{attrs:{cols:"3"}},[s("b-form-group",{staticClass:"header",attrs:{label:"Reduced Scoring Date","invalid-feedback":"This date must be after the open date."}},[s("b-input",{attrs:{size:"sm",value:e._f("formatDateTime")(e.override_dates.reduced_scoring_date),state:e.validReducedScoring,type:"datetime-local"},on:{blur:function(t){return e.setReducedScoringDate(e.override_dates,t.target.value)}}})],1)],1),s("b-col",{attrs:{cols:"3"}},[s("b-form-group",{staticClass:"header",attrs:{label:"Due Date","invalid-feedback":"This date must be after the reduced scoring date."}},[s("b-input",{attrs:{size:"sm",value:e._f("formatDateTime")(e.override_dates.due_date),state:e.validDueDate,type:"datetime-local"},on:{blur:function(t){return e.setDueDate(e.override_dates,t.target.value)}}})],1)],1),s("b-col",{attrs:{cols:"3"}},[s("b-form-group",{staticClass:"header",attrs:{label:"Answer Date","invalid-feedback":"This date must be after the due date."}},[s("b-form-input",{attrs:{size:"sm",value:e._f("formatDateTime")(e.override_dates.answer_date),type:"datetime-local",state:e.validAnswerDate},on:{blur:function(t){return e.setAnswerDate(e.override_dates,t.target.value)}}})],1)],1)],1):e._e(),s("b-row",[s("b-col",[s("b-table",{attrs:{small:"",items:e.users,fields:e.fields,selectable:"","select-mode":"range",filter:e.filter_text,"current-page":e.current_page,"per-page":e.per_page},on:{"row-selected":e.rowSelected},scopedSlots:e._u([{key:"assigned",fn:function(t){return[s("b-checkbox",{on:{change:function(s){return e.toggleAssigned(t.index)}},model:{value:e.assigned[t.index],callback:function(s){e.$set(e.assigned,t.index,s)},expression:"assigned[row.index]"}})]}}])})],1)],1),s("b-row",[s("b-col",[s("b-pagination",{attrs:{limit:"10","total-rows":e.users.length,"per-page":e.per_page},model:{value:e.current_page,callback:function(t){e.current_page=t},expression:"current_page"}})],1)],1)],1)},br=[],pr=(s("12b1"),function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.fields=["user_id","first_name","last_name"],e.selected_users=[],e.users=[],e.per_page=10,e.current_page=1,e.filter_text="",e.show_info=[],e.override_dates=R(),e.list_type="assigned",e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"showTogglesChanged",value:function(e,t){this.fields=["user_id","first_name","last_name"].concat(Object(st["a"])(this.show_info))}},{key:"assignUsers",value:function(){var e=this.selected_users.map((function(e){return e.user_id})),t=this.problem_set.assigned_users||[];this.problem_set.assigned_users=[].concat(Object(st["a"])(t),Object(st["a"])(e))}},{key:"setUsers",value:function(){var e=this.problem_set&&this.problem_set.assigned_users?this.problem_set.assigned_users:[],t=Array.from(we.users.keys()),s=t.filter((function(t){return!e.includes(t)}));"assigned"===this.list_type?this.users=Array.from(we.users.values()).filter((function(t){return e.includes(t.user_id)})):"unassigned"===this.list_type?this.users=Array.from(we.users.values()).filter((function(e){return s.includes(e.user_id)})):this.users=Array.from(we.users.values())}},{key:"probSetChanged",value:function(e,t){this.setUsers(),Object.assign(this.override_dates,this.problem_set)}},{key:"listChanged",value:function(e,t){this.setUsers()}},{key:"mounted",value:function(){Object.assign(this.override_dates,this.problem_set),this.setUsers()}},{key:"onChangeCurrentPage",value:function(){this.setSelectedCheckboxes()}},{key:"save",value:function(){console.log("in save")}},{key:"rowSelected",value:function(e){this.selected_users=e}},{key:"setSelectedCheckboxes",value:function(){var e=this;we.users_array.filter((function(t,s){return s<e.current_page*e.per_page&&s>=(e.current_page-1)*e.per_page}));this.setUsers()}},{key:"validReducedScoring",get:function(){return U(this.override_dates)}},{key:"validDueDate",get:function(){return L(this.override_dates)}},{key:"validAnswerDate",get:function(){return N(this.override_dates)}}]),t}(Object(Ge["c"])(Xe)));O["a"]([Object(G["b"])()],pr.prototype,"problem_set",void 0),O["a"]([Object(G["d"])("show_info",{deep:!0})],pr.prototype,"showTogglesChanged",null),O["a"]([Object(G["d"])("problem_set",{deep:!0})],pr.prototype,"probSetChanged",null),O["a"]([Object(G["d"])("list_type")],pr.prototype,"listChanged",null),O["a"]([Object(G["d"])("current_page")],pr.prototype,"onChangeCurrentPage",null),pr=O["a"]([Object(G["a"])({name:"AssignUsers"})],pr);var mr=pr,_r=mr,fr=Object(p["a"])(_r,dr,br,!1,null,null,null),hr=fr.exports,vr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h2",[e._v("Set Headers")])},gr=[],yr={name:"SetHeaders"},kr=yr,wr=Object(p["a"])(kr,vr,gr,!1,null,null,null),jr=wr.exports,Or=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.problem_set=R(),e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"updateSet",value:function(e){he.updateProblemSet(e)}},{key:"created",value:function(){var e=this;this.$store.subscribe((function(t,s){if("set-view"===ge.current_view&&"app_state/setSelectedSet"===t.type){e.$router.push({name:"setview",params:{set_id:ge.selected_set}})["catch"]((function(e){"NavigationDuplicated"!==e.name&&console.error(e)}));var r=he.problem_sets.get(ge.selected_set);r&&(e.problem_set=r)}}))}},{key:"routeChanged",value:function(e,t){if("setview"===e.name){var s=e.params&&e.params.set_id||e.query&&e.query.set_id;s&&ge.setSelectedSet(s)}}},{key:"problem_sets_array",get:function(){return Array.from(he.problem_sets.values())}},{key:"problem_sets_names",get:function(){return Array.from(he.problem_sets.keys())}},{key:"is_gateway",get:function(){return"gateway"===this.problem_set.assignment_type||"proctored_gateway"===this.problem_set.assignment_type}}]),t}(Object(Ge["c"])(Xe));O["a"]([Object(G["d"])("$route")],Or.prototype,"routeChanged",null),Or=O["a"]([Object(G["a"])({name:"ProblemSetView",components:{SetInfo:Bs,GatewayInfo:Js,ProblemListView:ur,AssignUsers:hr,SetHeaders:jr}})],Or);var xr=Or,Sr=xr,Cr=Object(p["a"])(Sr,As,$s,!1,null,null,null),Er=Cr.exports,Dr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-tabs",{attrs:{"content-class":"mt-3"}},[s("b-tab",{attrs:{title:"By Subj.",active:""}},[s("library-tab",{attrs:{tab_name:"subjects",problem_set:e.problem_set}})],1),s("b-tab",{attrs:{title:"By Directory"}},[s("library-tab",{attrs:{tab_name:"directory"}})],1),s("b-tab",{attrs:{title:"Textbooks"}},[s("library-tab",{attrs:{tab_name:"textbooks"}})],1),s("b-tab",{attrs:{title:"Local Prob."}},[s("library-tab",{attrs:{tab_name:"local"}})],1),s("b-tab",{attrs:{title:"Set Defn. files"}},[s("h3",[e._v("Browse Set Definition Files")])]),s("b-tab",{attrs:{title:"Search"}},[s("h3",[e._v("Search the Library")])]),s("b-tab",{attrs:{title:"Pending"}},[s("h3",[e._v("Browse pending problems")])])],1)},Pr=[],Mr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",["subjects"==e.tab_name?s("library-subjects",{on:{"load-problems":e.loadProblems}}):e._e(),"directory"==e.tab_name?s("library-directory",{on:{"load-problems":e.loadProblems}}):e._e(),"textbooks"==e.tab_name?s("library-textbooks",{on:{"load-problems":e.loadProblems}}):e._e(),"local"==e.tab_name?s("local-library",{on:{"load-problems":e.loadProblems}}):e._e(),e.num_problems>0?s("b-row",{staticClass:"mt-2"},[s("b-col",[s("b-pagination",{attrs:{"total-rows":e.num_problems,"per-page":e.rows_per_page,limit:"10",size:"sm"},model:{value:e.current_page,callback:function(t){e.current_page=t},expression:"current_page"}})],1),s("b-col",[e._v(" "+e._s(e.current_page)+" ")])],1):e._e(),s("b-row",[s("div",{staticClass:"scrollable"},e._l(e.problems,(function(t){return s("problem-view",{key:t.problem_id,attrs:{problem:t,type:"library"},on:{"add-problem":e.addProblem}})})),1)])],1)},Tr=[],Rr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"mb-3"},[s("b-col",[s("b-select",{attrs:{options:e.subjects,"value-field":"name","text-field":"name",size:"sm"},on:{change:e.subjectChange},model:{value:e.selected_subject,callback:function(t){e.selected_subject=t},expression:"selected_subject"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:""}},[e._v("Select subject...")])])],2)],1),s("b-col",[s("b-select",{directives:[{name:"show",rawName:"v-show",value:""!=e.selected_subject,expression:"selected_subject != ''"}],attrs:{options:e.chapters,"value-field":"name","text-field":"name",size:"sm"},on:{change:e.chapterChange},model:{value:e.selected_chapter,callback:function(t){e.selected_chapter=t},expression:"selected_chapter"}},[s("template",{slot:"first"},[s("option",{domProps:{value:null}},[e._v("Select chapter...")])])],2)],1),s("b-col",[s("b-select",{directives:[{name:"show",rawName:"v-show",value:""!=e.selected_chapter,expression:"selected_chapter != ''"}],attrs:{options:e.sections,"value-field":"name","text-field":"name",size:"sm"},on:{change:e.sectionChange},model:{value:e.selected_section,callback:function(t){e.selected_section=t},expression:"selected_section"}},[s("template",{slot:"first"},[s("option",{domProps:{value:null}},[e._v("Select section...")])])],2)],1),s("b-col",[s("b-btn",{attrs:{size:"sm",variant:"outline-dark"},on:{click:e.selectProblems}},[e._v(" Select "+e._s(e.num_files)+" Problems ")])],1)],1)},zr=[],Ar=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.subjects=[],e.chapters=[],e.sections=[],e.selected_subject="",e.selected_chapter="",e.selected_section="",e.num_files=0,e.current_page=0,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"subjectChange",value:function(e){this.selected_chapter="",this.selected_section="",this.current_page=0;var t=this.subjects.find((function(t){return t.name===e}));t&&(this.chapters=t.subfields,this.num_files=t.num_files)}},{key:"chapterChange",value:function(e){if(this.selected_section="",this.current_page=0,""!==e){var t=this.chapters.find((function(t){return t.name===e}));t&&(this.sections=t.subfields,this.num_files=t.num_files)}}},{key:"sectionChange",value:function(e){if(this.current_page=0,""!==e){var t=this.sections.find((function(t){return t.name===e}));t&&(this.num_files=t.num_files)}}},{key:"selectProblems",value:function(){var e=this,t="/webwork3/api/library/subjects/"+this.selected_subject;t+=""!==this.selected_chapter?"/chapters/"+this.selected_chapter:"",t+=""!==this.selected_section?"/sections/"+this.selected_section:"",t+="/problems",t=encodeURI(t),u.a.get(t).then((function(t){e.$emit("load-problems",t.data)}))["catch"]((function(e){console.log(e)}))}},{key:"created",value:function(){var e=this;u.a.get("/webwork3/api/library/subjects").then((function(t){e.subjects=t.data}))["catch"]((function(e){console.log(e)}))}}]),t}(G["c"]);Ar=O["a"]([Object(G["a"])({name:"LibrarySubjects"})],Ar);var $r=Ar,Ur=$r,Lr=Object(p["a"])(Ur,Rr,zr,!1,null,null,null),Nr=Lr.exports,Ir=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[s("b-select",{attrs:{size:"sm",options:e.dirs1},on:{change:e.dir1Change},model:{value:e.dir1,callback:function(t){e.dir1=t},expression:"dir1"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select a Library")])])],2)],1),s("b-col",[e.dirs2.length>0?s("b-select",{attrs:{size:"sm",options:e.dirs2},on:{change:e.dir2Change},model:{value:e.dir2,callback:function(t){e.dir2=t},expression:"dir2"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select")])])],2):e._e()],1),s("b-col",[e.dirs3.length>0?s("b-select",{attrs:{size:"sm",options:e.dirs3},on:{change:e.dir3Change},model:{value:e.dir3,callback:function(t){e.dir3=t},expression:"dir3"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select")])])],2):e._e()],1),s("b-col",[e.dirs4.length>0?s("b-select",{attrs:{size:"sm",options:e.dirs4},on:{change:e.dir4Change},model:{value:e.dir4,callback:function(t){e.dir4=t},expression:"dir4"}}):e._e()],1),s("b-col",[e.dirs5.length>0?s("b-select",{attrs:{size:"sm",options:e.dirs5},on:{change:e.dir5Change},model:{value:e.dir5,callback:function(t){e.dir5=t},expression:"dir5"}}):e._e()],1),s("b-col",[s("b-btn",{attrs:{size:"sm",variant:"outline-dark",disabled:null==e.dir2},on:{click:e.loadProblems}},[e._v(" Load "+e._s(e.load_num)+" Problems ")])],1)],1)},Yr=[],Fr={name:"LibraryDirectory",data:function(){return{dirs1:[{value:"Library",text:"OPL Directory"},{value:"Contrib",text:"Contrib"}],dirs2:[],dirs3:[],dirs4:[],dirs5:[],dir1:null,dir2:null,dir3:null,dir4:null,dir5:null,load_num:0,OPL:[]}},mounted:function(){var e=this;u.a.get("/webwork3/api/library/directories").then((function(t){e.OPL=t.data}))},methods:{dir1Change:function(){"Library"===this.dir1&&(this.library=this.OPL),this.dir2=this.dir3=this.dir4=this.dir5=null,this.dirs3=this.dirs4=this.dirs5=[],this.dirs2=this.library[0].subfields.map((function(e){return e.name})),this.dirs2.sort()},dir2Change:function(){var e=this;this.dir3=this.dir4=this.dir5=null,this.dirs4=this.dirs5=[];var t=this.library[0].subfields.find((function(t){return t.name===e.dir2}));this.load_num=t.num_files,this.dirs3=t.subfields.map((function(e){return e.name})),this.dirs3.sort()},dir3Change:function(){var e=this;this.dir4=this.dir5=null,this.dirs5=[];var t=this.library[0].subfields.find((function(t){return t.name===e.dir2})),s=t.subfields.find((function(t){return t.name===e.dir3}));this.load_num=s.num_files,void 0!==s.subfields&&(this.dirs4=s.subfields.map((function(e){return e.name})),this.dirs4.sort())},loadProblems:function(){var e=this,t=[this.dir1,this.dir2,this.dir3,this.dir4,this.dir5].filter((function(e){return null!==e})).join("/");u.a.get("/webwork3/api/library/directories/"+t).then((function(t){e.$emit("load-problems",t.data)}))}}},Br=Fr,Gr=Object(p["a"])(Br,Ir,Yr,!1,null,null,null),Vr=Gr.exports,Hr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[s("b-select",{attrs:{size:"sm",options:e.textbooks},model:{value:e.textbook,callback:function(t){e.textbook=t},expression:"textbook"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select a Textbook...")])])],2)],1),s("b-col",[e.chapters.length>0?s("b-select",{attrs:{size:"sm",options:e.chapters},model:{value:e.chapter,callback:function(t){e.chapter=t},expression:"chapter"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select Chapter...")])])],2):e._e()],1),s("b-col",[e.sections.length>0?s("b-select",{attrs:{size:"sm",options:e.sections},model:{value:e.section,callback:function(t){e.section=t},expression:"section"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select Section...")])])],2):e._e()],1),s("b-col",[s("b-btn",{attrs:{size:"sm",variant:"outline-dark",disabled:null==e.textbook},on:{click:e.loadProblems}},[e._v(" Load "+e._s(e.num_files)+" Problems ")])],1)],1)},Wr=[],Xr=void 0,qr={name:"LibraryTextbooks",data:function(){return{textbooks:[],chapters:[],sections:[],textbook:null,chapter:null,section:null,textbook_data:[],num_files:0}},watch:{textbook:function(){var e=this,t=this.textbook_data.find((function(t){return t.textbook_id===e.textbook}));this.chapters=t.subfields.map((function(e){return{text:e.name,value:e.chapter_id}})),this.num_files=t.num_files,this.chapter=this.section=null},chapter:function(){var e=this,t=this.textbook_data.find((function(t){return t.textbook_id===e.textbook}));this.chapters=t.subfields.map((function(e){return{text:e.name,value:e.chapter_id}}));var s=t.subfields.find((function(t){return t.chapter_id===e.chapter}));s&&(this.sections=s.subfields.map((function(e){return{text:e.name,value:e.section_id}})),this.num_files=s.num_files),this.section=null}},mounted:function(){var e=this;u.a.get("/webwork3/api/library/textbooks").then((function(t){e.textbook_data=t.data,e.textbooks=e.textbook_data.map((function(e){return{value:e.textbook_id,text:e.name}}))}))},methods:{loadProblems:function(){var e="/webwork3/api/library/textbooks/";Xr.section?e+="sections/"+Xr.section+"/problems":Xr.chapter?e+="chapters/"+Xr.chapter+"/problems":e+=Xr.textbook+"/problems",u.a.get(e).then((function(e){Xr.$emit("load-problems",e.data)}))}}},Jr=qr,Kr=Object(p["a"])(Jr,Hr,Wr,!1,null,null,null),Qr=Kr.exports,Zr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[s("b-list-group",{staticClass:"border"},e._l(e.dirs[0],(function(t){return s("b-list-group-item",{key:t.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(s){return e.open(t,1)}}},["dir"==t.type?s("i",{staticClass:"far fa-folder pr-2"}):e._e(),"file"==t.type?s("i",{staticClass:"far fa-file pr-2"}):e._e(),e._v(" "+e._s(t.text)+" ")])})),1)],1),s("b-col",[e.dirs[1]&&e.dirs[1].length>0?s("b-list-group",{staticClass:"border"},e._l(e.dirs[1],(function(t){return s("b-list-group-item",{key:t.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(s){return e.open(t,2)}}},["dir"==t.type?s("i",{staticClass:"far fa-folder pr-2"}):e._e(),"file"==t.type?s("i",{staticClass:"far fa-file pr-2"}):e._e(),e._v(" "+e._s(t.text)+" ")])})),1):e._e()],1),s("b-col",[e.dirs[2]&&e.dirs[2].length>0?s("b-list-group",{staticClass:"border"},e._l(e.dirs[2],(function(t){return s("b-list-group-item",{key:t.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(s){return e.open(t,2)}}},["dir"==t.type?s("i",{staticClass:"far fa-folder pr-2"}):e._e(),"file"==t.type?s("i",{staticClass:"far fa-file pr-2"}):e._e(),e._v(" "+e._s(t.text)+" ")])})),1):e._e()],1)],1)},ea=[],ta=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.dir_info={base:"",files:[],subdirs:[]},e.dirs={},e.selection=[],e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"mounted",value:function(){var e=this;u.a.get(_e.api_header+"/library/local").then((function(t){e.dir_info=t.data,console.log(e.dir_info),e.open({type:"dir",text:"templates"},0)}))}},{key:"open",value:function(e,t){for(var s=this,r=[],a=0;a<t;a++)r[a]=this.selection[a];if(this.selection=r,this.selection[t]=e,"dir"===e.type){for(var n={},o=0;o<t;o++)n[o]=this.dirs[o];var i={base:"",files:[],subdirs:[]};0===t?i=this.dir_info:1===t?i=this.dir_info.subdirs.find((function(t){return t.base===e.text}))||{base:"",files:[],subdirs:[]}:2===t&&(i=this.dir_info.subdirs.find((function(e){return e.base===s.selection[1].text}))||{base:"",files:[],subdirs:[]},i=i.subdirs.find((function(e){return e.base===s.selection[2].text}))||{base:"",files:[],subdirs:[]}),n[t]=[].concat(Object(st["a"])(i.subdirs?i.subdirs.map((function(e){return{type:"dir",text:e.base}})):[]),Object(st["a"])(i.files.map((function(e){return{type:"file",text:e}})))),this.dirs=n}else if("file"===e.type){this.selection[t]=e;var l=this.selection.map((function(e){return e.text})).join("/");console.log(l),u.a.get(_e.api_header+"/problems/local"+l).then((function(e){s.$emit("load-problems",e.data)}))["catch"]((function(e){console.log(e)}))}}}]),t}(G["c"]);ta=O["a"]([Object(G["a"])({name:"LocalLibrary"})],ta);var sa=ta,ra=sa,aa=(s("d131"),Object(p["a"])(ra,Zr,ea,!1,null,"702de905",null)),na=aa.exports,oa=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.all_problems=[],e.current_page=1,e.rows_per_page=10,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"loadProblems",value:function(e){this.all_problems=e}},{key:"addProblem",value:function(e){var t=this.problem_sets.get(ge.selected_set);if(void 0!==t){var s=I.newProblem();s.source_file=e.source_file,s.set_id=t.set_id,s.problem_id=t.problems.length+1,t.problems.push(s),he.updateProblemSet(t)}}},{key:"go_to_set",value:function(){this.$router.push(_e.api_header+"/manager/set-details?set_id="+ge.selected_set)}},{key:"valid_set_id",value:function(){return void 0!==ge.selected_set}},{key:"set_names",get:function(){return he.set_names}},{key:"num_problems",get:function(){return this.all_problems.length}},{key:"problems",get:function(){if(0===this.all_problems.length||0===this.current_page)return[];for(var e=[],t=(this.current_page-1)*this.rows_per_page;t<Math.min(this.all_problems.length,this.current_page*this.rows_per_page);t++)e.push(this.all_problems[t]);return e}}]),t}(G["c"]);O["a"]([Object(G["b"])()],oa.prototype,"problem_sets",void 0),O["a"]([Object(G["b"])()],oa.prototype,"tab_name",void 0),oa=O["a"]([Object(G["a"])({name:"LibraryTab",components:{LibrarySubjects:Nr,LibraryDirectory:Vr,LibraryTextbooks:Qr,ProblemView:nr,LocalLibrary:na}})],oa);var ia=oa,la=ia,ca=Object(p["a"])(la,Mr,Tr,!1,null,null,null),ua=ca.exports,da=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"problem_set",value:function(){return he.problem_sets.get(ge.selected_set)}}]),t}(G["c"]);da=O["a"]([Object(G["a"])({name:"SetDetails",components:{LibraryTab:ua}})],da);var ba=da,pa=ba,ma=Object(p["a"])(pa,Dr,Pr,!1,null,null,null),_a=ma.exports,fa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h3",[e._v("Import-Export Manager")])},ha=[],va={name:"ImportExport"},ga=va,ya=Object(p["a"])(ga,fa,ha,!1,null,null,null),ka=ya.exports,wa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"3"}},[s("b-form-group",{attrs:{label:"Select from","label-cols":"6"}},[s("b-select",{attrs:{size:"sm"},model:{value:e.problem_type,callback:function(t){e.problem_type=t},expression:"problem_type"}},[s("option",{attrs:{value:""}},[s("em",[e._v("Select...")])]),s("option",{attrs:{value:"set"}},[e._v("Existing Set")]),s("option",{attrs:{value:"library"}},[e._v("Problem Library")]),s("option",{attrs:{value:"template"}},[e._v("From Template")])])],1)],1),"set"==e.problem_type?s("b-col",{attrs:{cols:"3"}},[s("b-form-group",{attrs:{label:"Set Name:","label-cols":"4"}},[s("b-select",{attrs:{size:"sm",options:e.set_names},model:{value:e.selected_set_id,callback:function(t){e.selected_set_id=t},expression:"selected_set_id"}})],1)],1):e._e(),"set"==e.problem_type?s("b-col",{attrs:{cols:"3"}},[s("b-form-group",{attrs:{label:"Problem:","label-cols":"4"}},[s("b-select",{attrs:{size:"sm",options:e.problems},on:{change:e.updateSource},model:{value:e.selected_problem,callback:function(t){e.selected_problem=t},expression:"selected_problem"}})],1)],1):e._e(),s("b-col",[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.save-as-problem-modal",modifiers:{"save-as-problem-modal":!0}}],attrs:{size:"sm",variant:"outline-dark"}},[e._v(" Save Problem As... ")])],1)],1),s("b-row",[s("b-tabs",{attrs:{"content-class":"mt-3"}},[s("b-tab",{attrs:{title:"Problem Source",active:""}},[e.not_editable?s("div",[e._v(' This problem is from the library and is read-only. Please select "Save As..." to create a local, editable copy. ')]):e._e(),s("textarea",{attrs:{id:"source",rows:"10"}})]),s("b-tab",{attrs:{title:"Rendered Problem"},on:{click:e.renderProblem}},[s("div",{domProps:{innerHTML:e._s(e.problem_html)}})])],1)],1)],1),s("save-as-problem-modal")],1)},ja=[],Oa=s("c672"),xa=(s("ec0b"),s("9e8d"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"save-as-problem-modal",size:"xl"}},[s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("b-form-group",{attrs:{"label-cols":"auto",label:"Directory:"}},[s("b-input",{model:{value:e.directory,callback:function(t){e.directory=t},expression:"directory"}})],1)],1),s("b-col",[s("b-form-group",{attrs:{"label-cols":"auto",label:"Filename:"}},[s("b-input",{model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)],1)],1),s("b-row",[s("b-col",[s("b-list-group",e._l(e.options1,(function(t){return s("b-list-group-item",{key:t.name,staticClass:"p-1",attrs:{button:"dir"===t.type,disabled:"file"===t.type},on:{click:function(s){return e.selected1(t.name)}}},["dir"===t.type?s("b-icon",{attrs:{icon:"folder"}}):e._e(),"file"===t.type?s("b-icon",{attrs:{icon:"document"}}):e._e(),s("span",{staticClass:"pl-2"},[e._v(e._s(t.name))])],1)})),1)],1),s("b-col",e._l(e.options2,(function(t){return s("b-list-group-item",{key:t.name,staticClass:"p-1",attrs:{button:"dir"===t.type,disabled:"file"===t.type},on:{click:function(s){return e.selected2(t.name)}}},["dir"===t.type?s("b-icon",{attrs:{icon:"folder"}}):e._e(),"file"===t.type?s("b-icon",{attrs:{icon:"document"}}):e._e(),s("span",{staticClass:"pl-2"},[e._v(e._s(t.name))])],1)})),1),s("b-col")],1)],1)}),Sa=[];function Ca(e){return Ea.apply(this,arguments)}function Ea(){return Ea=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/webwork3/api/renderer",{source:t.problem_source});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Da(e){return Pa.apply(this,arguments)}function Pa(){return Pa=Object(v["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(_e.api_header+"/local"+(t?"/"+t:""));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Ma(){return Ta.apply(this,arguments)}function Ta(){return Ta=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(_e.api_header+"/usersetscores");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}var Ra=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.file="",e.dir="",e.file1="",e.options1=[],e.file2="",e.options2=[],e.file3="",e.options3=[],e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"selected1",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.file1=t,this.file2="",e.next=4,Da(t);case 4:this.options2=e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"selected2",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.file2=t,e.next=3,Da(this.file1+"/"+t);case 3:this.options3=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Da("");case 2:this.options1=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"directory",get:function(){return this.file1+(this.file2?"/"+this.file2:"")}}]),t}(G["c"]);Ra=O["a"]([Object(G["a"])({name:"SaveAsProblemModal",components:{SaveAsProblemModal:Ra}})],Ra);var za=Ra,Aa=za,$a=Object(p["a"])(Aa,xa,Sa,!1,null,null,null),Ua=$a.exports,La=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.problem_type="",e.selected_set_id="",e.selected_problem=0,e.problem_source="var x = 5;",e.problem_path="",e.problem_html="",e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"not_editable",value:function(){return/^Library/.test(this.problem_path)}},{key:"updateSource",value:function(){var e=this,t=he.problem_sets.get(this.selected_set_id);if(t){var s=t.problems.find((function(t){return t.problem_id===e.selected_problem}));s&&(this.problem_path=s.source_file,u.a.get(_e.api_header+"/library/fullproblem",{params:s}).then((function(t){e.problem_source=t.data.problem_source,e.cm.setValue(e.problem_source)})))}}},{key:"renderProblem",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=I.newProblem(),t.problem_source=this.problem_source,e.next=4,Ca(t);case 4:s=e.sent,this.problem_html=s.text;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e={tabSize:2,lineNumbers:!0,mode:"perl"},t=document.getElementById("source");this.cm=Oa["fromTextArea"](t,e),this.cm.setValue(this.problem_source)}},{key:"updated",value:function(){}},{key:"set_names",get:function(){return[{value:"",text:"Select Set"}].concat(Object(st["a"])(he.set_names.map((function(e){return{value:e,text:e}}))))}},{key:"problems",get:function(){var e=he.problem_sets.get(this.selected_set_id);return e?[{value:"",text:"Select Problem"}].concat(Object(st["a"])(e.problems.map((function(e){return{value:e.problem_id,text:e.problem_id}})))):[]}}]),t}(G["c"]);La=O["a"]([Object(G["a"])({name:"Editor",components:{SaveAsProblemModal:Ua}})],La);var Na=La,Ia=Na,Ya=(s("3ad8"),Object(p["a"])(Ia,wa,ja,!1,null,"3de2ca4c",null)),Fa=Ya.exports,Ba=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[0==e.user_set_scores.length?s("b-row",[s("span",[e._v("Loading data..."),s("b-spinner",{attrs:{variant:"primary",label:"Loading"}})],1)]):e._e(),e.user_set_scores.length>0?s("b-row",[s("b-tabs",{attrs:{"content-class":"mt-3"},on:{"activate-tab":e.updateInputs}},[s("b-tab",{attrs:{title:"Progress For Selected Set"}},[s("selected-set-progress",{attrs:{user_set_scores:e.user_set_scores}})],1),s("b-tab",{attrs:{title:"Progress For Selected User",lazy:""}},[s("selected-user-progress",{attrs:{user_set_scores:e.user_set_scores}})],1),s("b-tab",{attrs:{title:"Scoring Export",lazy:""}},[s("scoring-tab",{attrs:{user_set_scores:e.user_set_scores}})],1)],1)],1):e._e()],1)},Ga=[],Va=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"2"}},[s("b-checkbox",{model:{value:e.all_users,callback:function(t){e.all_users=t},expression:"all_users"}},[e._v("Include All Users ")])],1),s("b-col",[s("b-form-group",{attrs:{"label-cols":"auto",label:"Export Filename","label-for":"filename-export"}},[s("b-form-input",{attrs:{id:"filename-export"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1)],1),s("b-col",[s("b-btn",{attrs:{variant:"outline-dark"},on:{click:e.download}},[e._v("Download")])],1)],1),s("b-row",[s("b-table",{attrs:{"sticky-header":"600px",items:e.user_table,fields:e.fields,striped:"",small:"",primary_key:"user_id"},scopedSlots:e._u([{key:"head()",fn:function(t){return[e._v(" "+e._s(e.formatHead(t))+" ")]}}])})],1)],1)},Ha=[],Wa=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.set_values=[],e.filename="",e.all_users=!1,e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"formatHead",value:function(e){var t=this.set_values.find((function(t){return t.set_id===e.field.key}));return e.label+(t&&t.value?" Value: "+t.value:"")}},{key:"download",value:function(){var e=this.user_table,t={user_id:"MAX value",first_name:"",last_name:""};Object.assign(t,this.set_values.reduce((function(e,t){return e[t.set_id]=""+t.value,e}),{})),e.splice(0,0,t);var s=Object(gt["unparse"])(e),r=new Blob([s],{type:"text/csv"}),a=document.createElement("a");a.href=URL.createObjectURL(r),a.download=this.filename,a.click(),URL.revokeObjectURL(a.href)}},{key:"userProblemsSum",value:function(e){return e.reduce((function(e,t){return t.status+e}),0)}},{key:"mounted",value:function(){this.filename=_e.course_id+"_totals.csv"}},{key:"round2",value:function(e){return Math.round(100*e)/100}},{key:"user_table",get:function(){var e=this,t=we.users_array;he.problem_sets;return this.all_users||(t=t.filter((function(e){return e.permission<10&&"C"==e.status}))),t.map((function(t){var s=e.user_set_scores.filter((function(e){return e.user_id===t.user_id})).map((function(t){return{set_id:t.set_id,total:t&&e.userProblemsSum(t.scores)||0}})),r=s.reduce((function(e,t){return e+t.total}),0);return s.reduce((function(e,t){return e[t.set_id]=t.total,e}),{user_id:t.user_id,first_name:t.first_name,last_name:t.last_name,total:r})}))}},{key:"fields",get:function(){var e=he.set_names.sort().map((function(e){return{key:e,sortable:!0,formatter:"round2"}})),t=["user_id","first_name","last_name"].map((function(e){return{key:e,sortable:!0,stickyColumn:!0}}));return[].concat(Object(st["a"])(t),Object(st["a"])(e),[{key:"total",formatter:"round2",sortable:!0}])}}]),t}(G["c"]);O["a"]([Object(G["b"])()],Wa.prototype,"user_set_scores",void 0),Wa=O["a"]([Object(G["a"])({name:"Scoring"})],Wa);var Xa=Wa,qa=Xa,Ja=Object(p["a"])(qa,Va,Ha,!1,null,null,null),Ka=Ja.exports,Qa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("b-row",[s("h4",[e._v("Student Progress for: "+e._s(e.selected_set))])]),s("b-row",[s("b-table",{attrs:{items:e.user_scores,fields:e.fields,striped:"",small:""}})],1)],1)},Za=[],en=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"round2",value:function(e){return Math.round(100*e)/100}},{key:"selected_set",get:function(){return ge.selected_set}},{key:"user_scores",get:function(){var e=this,t=he.problem_sets.get(this.selected_set);if(!t)return[];var s=this.user_set_scores.filter((function(t){return t.set_id===e.selected_set}));return we.users_array.map((function(e){var r=s.find((function(t){return t.user_id===e.user_id}));if(!r)return{};var a={user_id:e.user_id,first_name:e.first_name,last_name:e.last_name,total_score:r.scores.map((function(e){return e.status})).reduce((function(e,t){return e+t}),0)};return t.problems.reduce((function(e,t,s){var a=r.scores.find((function(e){return e.problem_id===t.problem_id}));return e[t.problem_id+""]=a&&a.status||0,e}),a)}))}},{key:"fields",get:function(){var e=he.problem_sets.get(this.selected_set);if(!e)return[];var t=e.problems.map((function(e){return{key:""+e.problem_id,sortable:!0,formatter:"round2"}})),s=[{key:"user_id",sortable:!0},{key:"first_name",sortable:!0},{key:"last_name",sortable:!0},{key:"total_score",sortable:!0,formatter:"round2"}];return[].concat(s,Object(st["a"])(t))}}]),t}(G["c"]);O["a"]([Object(G["b"])()],en.prototype,"user_set_scores",void 0),en=O["a"]([Object(G["a"])({name:"SelectedSetProgress"})],en);var tn=en,sn=tn,rn=Object(p["a"])(sn,Qa,Za,!1,null,null,null),an=rn.exports,nn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("b-row",[s("h4",[e._v("Student Progress for: "+e._s(e.full_name))])]),s("b-row",[s("b-table",{attrs:{items:e.set_scores,fields:e.fields,striped:"",small:""}})],1)],1)},on=[],ln=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"round2",value:function(e){return"string"===typeof e?e:Math.round(100*e)/100}},{key:"selected_set",get:function(){return ge.selected_set}},{key:"selected_user",get:function(){return ge.selected_user}},{key:"user",get:function(){return we.users.get(this.selected_user)}},{key:"full_name",get:function(){return this.user?this.user.first_name+" "+this.user.last_name:""}},{key:"max_problem_num",get:function(){return Math.max.apply(Math,Object(st["a"])(Array.from(he.problem_sets.values()).map((function(e){return Math.max.apply(Math,Object(st["a"])(e.problems.map((function(e){return e.problem_id}))))}))))}},{key:"set_scores",get:function(){var e=this;if(!this.user||!this.user_set_scores)return[];var t=this.max_problem_num,s=Array.from(he.problem_sets.values()),r=this.user_set_scores.filter((function(t){return e.user&&e.user.user_id===t.user_id})),a=Object(st["a"])(Array(t).keys()).map((function(e){return e+1}));return s.map((function(e){if(!r)return{set_id:e.set_id};var t=r.find((function(t){return e.set_id===t.set_id})),s=t&&t.scores;if(!s)return[];var n={set_id:e.set_id,score:s.map((function(e){return e.status})).reduce((function(e,t){return e+t}),0),max:e.problems.reduce((function(e,t){return e+t.value}),0)};return a.reduce((function(t,r){var a=s.find((function(e){return e.problem_id===r}));return t[r]=a&&a.status||(e.problems.find((function(e){return e.problem_id==r}))?".":""),t}),n)}))}},{key:"fields",get:function(){var e=Object(st["a"])(Array(this.max_problem_num).keys()).map((function(e){return e+1})),t=e.map((function(e){return{key:""+e,sortable:!0,formatter:"round2"}})),s=[{key:"set_id",sortable:!0},{key:"score",sortable:!0,formatter:"round2"},{key:"max",sortable:!0,formatter:"round2"}];return[].concat(s,Object(st["a"])(t))}}]),t}(G["c"]);O["a"]([Object(G["b"])()],ln.prototype,"user_set_scores",void 0),ln=O["a"]([Object(G["a"])({name:"SelectedUserProgress"})],ln);var cn=ln,un=cn,dn=Object(p["a"])(un,nn,on,!1,null,null,null),bn=dn.exports,pn=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.user_set_scores=[],e}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"mounted",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ma();case 2:this.user_set_scores=e.sent,this.updateInputs(0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateInputs",value:function(e){switch(e){case 0:ge.setShowSetOptions(!0),ge.setShowUserOptions(!1);break;case 1:ge.setShowSetOptions(!1),ge.setShowUserOptions(!0);break;case 2:ge.setShowSetOptions(!1),ge.setShowUserOptions(!1);break}}}]),t}(G["c"]);pn=O["a"]([Object(G["a"])({name:"Statistics",components:{ScoringTab:Ka,SelectedSetProgress:an,SelectedUserProgress:bn}})],pn);var mn=pn,_n=mn,fn=Object(p["a"])(_n,Ba,Ga,!1,null,null,null),hn=fn.exports,vn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h3",[e._v("Page Not Found")])},gn=[],yn={},kn=Object(p["a"])(yn,vn,gn,!1,null,null,null),wn=kn.exports,jn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-view")},On=[],xn={},Sn=Object(p["a"])(xn,jn,On,!1,null,null,null),Cn=Sn.exports;r["a"].use(o["a"]);var En=new o["a"]({base:"/webwork3",mode:"history",routes:[{path:"/courses",component:Cn,children:[{path:"",component:_},{path:":course_id",component:Cn,children:[{path:"login",component:Ye},{path:"manager",component:ze,children:[{path:"problem-sets",component:mt},{path:"classlist",component:Kt},{path:"settings",component:zs},{path:"calendar",component:ps},{path:"set-view",component:Er},{path:"set-view/:set_id",component:Er,name:"setview"},{path:"library",component:_a},{path:"import-export",component:ka},{path:"editor",component:Fa},{path:"statistics",component:hn}]}]}]},{path:"*",component:wn}]}),Dn=s("c7cf"),Pn=s("9148"),Mn=s("470d"),Tn=s("199f"),Rn=s("7d1b"),zn=s("7721"),An=s("289e"),$n=s("c496"),Un=s("9887"),Ln=s("129a"),Nn=s("1020"),In=s("b442"),Yn=s("56b2"),Fn=s("23e8"),Bn=s("cc9e"),Gn=s("c89c"),Vn=s("e954"),Hn=s("6d30"),Wn=s("18bb"),Xn=s("c2d1"),qn=s("d8d9"),Jn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view"),s("b-navbar",{attrs:{id:"footer",fixed:"bottom"}},[s("b-navbar-nav",{attrs:{small:!0}},[s("b-nav-item",{attrs:{href:"http://webwork.maa.org"}},[e._v("WeBWorK")]),s("b-nav-text",[e._v("1996-2019")])],1)],1)],1)},Kn=[],Qn=function(e){function t(){return Object(g["a"])(this,t),Object(k["a"])(this,Object(w["a"])(t).apply(this,arguments))}return Object(j["a"])(t,e),Object(y["a"])(t,[{key:"mounted",value:function(){if(!document.getElementById("mathjax-scr")){var e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML",e.id="mathjax-scr",document.getElementsByTagName("head")[0].appendChild(e),"/"===this.$route.fullPath&&this.$router.replace("/courses")}}}]),t}(G["c"]);Qn=O["a"]([Object(G["a"])({name:"WeBWorK"})],Qn);var Zn=Qn,eo=Zn,to=Object(p["a"])(eo,Jn,Kn,!1,null,null,null),so=to.exports;function ro(e){return n.a(e,"YYYY-MM-DD[T]HH:mm").unix()}r["a"].use(Dn["a"]),r["a"].use(Pn["a"]),r["a"].use(Mn["a"]),r["a"].use(Tn["a"]),r["a"].use(Rn["a"]),r["a"].use(zn["a"]),r["a"].use(An["a"]),r["a"].use($n["a"]),r["a"].use(Un["a"]),r["a"].use(Ln["a"]),r["a"].use(Nn["a"]),r["a"].use(In["a"]),r["a"].use(Yn["a"]),r["a"].use(Fn["a"]),r["a"].use(Bn["a"]),r["a"].use(Gn["a"]),r["a"].use(Vn["a"]),r["a"].use(Hn["a"]),r["a"].use(Wn["a"]),r["a"].use(Xn["a"]),r["a"].use(qn["a"]),r["a"].filter("formatDateTime",(function(e){return a["unix"](e).format("YYYY-MM-DD[T]HH:mm")})),r["a"].filter("setReducedScoringDate",(function(e,t){return e.reduced_scoring_date=ro(t)})),r["a"].filter("setDueDate",(function(e,t){return e.due_date=ro(t)})),r["a"].filter("setAnswerDate",(function(e,t){return e.answer_date=ro(t)})),r["a"].filter("validReducedScoring",(function(e){return a["unix"](e.reduced_scoring_date).isSameOrAfter(a["unix"](e.open_date))})),r["a"].filter("validDueDate",(function(e){return a["unix"](e.due_date).isSameOrAfter(a["unix"](e.reduced_scoring_date))})),r["a"].filter("validAnswerDate",(function(e){return a["unix"](e.answer_date).isSameOrAfter(a["unix"](e.due_date))})),new r["a"]({router:En,store:Q,render:function(e){return e(so)}}).$mount("#app")},"7dc1":function(e,t,s){},"89c8":function(e,t,s){"use strict";var r=s("b7ad"),a=s.n(r);a.a},a728:function(e,t,s){},a9be:function(e,t,s){},abbd:function(e,t,s){"use strict";var r=s("ffe7"),a=s.n(r);a.a},b7ad:function(e,t,s){},c51d:function(e,t,s){},c5e0:function(e,t,s){"use strict";var r=s("a728"),a=s.n(r);a.a},d131:function(e,t,s){"use strict";var r=s("7dc1"),a=s.n(r);a.a},d7ef:function(e,t,s){},f088:function(e,t,s){"use strict";var r=s("08cc"),a=s.n(r);a.a},ffe7:function(e,t,s){}});
//# sourceMappingURL=app.e762d45f.js.map