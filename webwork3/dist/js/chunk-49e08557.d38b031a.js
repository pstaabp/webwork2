(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49e08557"],{3926:function(e,t,r){"use strict";var s=r("b7cd"),i=r.n(s);i.a},"63ad":function(e,t,r){var s=r("7d51"),i=r("59d1").trim,o=r("f000"),n=s.parseFloat,u=1/n(o+"-0")!==-1/0;e.exports=u?function(e){var t=i(String(e)),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},"93f7":function(e,t,r){var s=r("aa4b"),i=r("63ad");s({global:!0,forced:parseFloat!=i},{parseFloat:i})},b7cd:function(e,t,r){},f1ae:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-row",[r("b-col",{attrs:{cols:"8"}},[r("b-container",[r("b-row",["instructor"===e.viewer_type?r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{"label-cols":"4",label:"Act as User:"}},[r("b-select",{attrs:{options:e.user_names},scopedSlots:e._u([{key:"first",fn:function(){return[r("b-select-option",{attrs:{value:"",disabled:""}},[e._v("Please select a user")])]},proxy:!0}],null,!1,2876019854),model:{value:e.user_id,callback:function(t){e.user_id=t},expression:"user_id"}})],1)],1):e._e(),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{"label-cols":"4",label:"Selected Set"}},[r("b-select",{attrs:{options:e.valid_problem_sets},scopedSlots:e._u([{key:"first",fn:function(){return[r("b-select-option",{attrs:{value:"",disabled:""}},[e._v("Please select a set")])]},proxy:!0}]),model:{value:e.set_id,callback:function(t){e.set_id=t},expression:"set_id"}})],1)],1)],1),e.num_problems>0&&e.current_problem_id>0?r("b-row",[r("b-pagination",{attrs:{"per-page":1,limit:10,"total-rows":e.num_problems},model:{value:e.current_problem_id,callback:function(t){e.current_problem_id=t},expression:"current_problem_id"}})],1):e._e(),e.set_id&&0===e.num_problems?r("b-row",[e._v(" There are no problems in this set. ")]):e._e(),e.num_problems>0&&e.set_id?r("b-row",[r("problem-view",{staticClass:"problem",attrs:{problem:e.user_problem,user_id:e.user_id,type:"student"},on:{"update-sets":e.updateSets}})],1):e._e()],1)],1),r("b-col",{attrs:{cols:"4"}},[r("problem-viewer-sidebar",{attrs:{set_id:e.set_id,user_id:e.user_id,user_sets_changed:e.user_sets_changed}})],1)],1)],1)},i=[],o=(r("2fd0"),r("5d89"),r("5044"),r("ed2c"),r("f0e5"),r("b5a9"),r("ebac"),r("a18e"),r("5007"),r("1313")),n=r("a36a"),u=r("571b"),a=r("c709"),c=r("7d62"),d=r("bb4b"),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("Problem Set Status")]),"XXX"!==e.user_set.set_id?r("table",{staticClass:"table table-sm"},[r("tr",[r("td",{staticClass:"header"},[e._v("Set Name:")]),r("td",[e._v(e._s(e.user_set.set_id.replace(/\_/g," ")))])]),r("tr",[r("td",{staticClass:"header"},[e._v("Open Date:")]),r("td",[e._v(e._s(e.formatDateTime(e.user_set.open_date)))])]),e.has_reduced_scoring?r("tr",[r("td",{staticClass:"header"},[e._v("Red. Scoring Date:")]),r("td",[e._v(e._s(e.formatDateTime(e.user_set.reduced_scoring_date)))])]):e._e(),r("tr",[r("td",{staticClass:"header"},[e._v("Due Date:")]),r("td",[e._v(e._s(e.formatDateTime(e.user_set.due_date)))])]),r("tr",[r("td",{staticClass:"header"},[e._v("Answer Date:")]),r("td",[e._v(e._s(e.formatDateTime(e.user_set.answer_date)))])]),r("tr",[r("td",{attrs:{colspan:"2"}},[r("b-progress",{attrs:{value:e.total_score,max:e.max_score}})],1)]),e._l(e.user_set.scores,(function(t){return r("tr",{key:"score:"+t.problem_id+":"+new Date},[r("td",{staticClass:"header"},[e._v("Problem "+e._s(t.problem_id)+":")]),r("td",[e._v(e._s(e.problemValue(t.problem_id)))])])}))],2):e._e()])},l=[],b=(r("a9c8"),r("93f7"),r("554d")),p=r.n(b),f=r("7969"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.user_set=Object(f["n"])(),t}return Object(o["c"])(t,e),Object.defineProperty(t.prototype,"problem_set",{get:function(){return u["a"].problem_sets.get(this.set_id)},enumerable:!0,configurable:!0}),t.prototype.mounted=function(){this.updateUserSet()},t.prototype.updateUserSet=function(){var e=u["a"].user_sets.get(this.user_id+":"+this.set_id);this.user_set=e||Object(f["n"])()},t.prototype.created=function(){var e=this;this.$store.subscribe((function(t){"problem_set_store/SET_USER_SET"===t.type&&e.updateUserSet()}))},Object.defineProperty(t.prototype,"has_reduced_scoring",{get:function(){return Object(f["f"])()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total_score",{get:function(){var e=this.problem_set&&this.problem_set.problems||[];return this.user_set&&this.user_set.scores?this.user_set.scores.reduce((function(t,r,s){return t+parseFloat(""+r.status)*e[s].value}),0):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max_score",{get:function(){return this.problem_set&&this.problem_set.problems?this.problem_set.problems.reduce((function(e,t){return e+t.value}),0):0},enumerable:!0,configurable:!0}),t.prototype.formatDateTime=function(e){return p.a.unix(e).format("MMM D, YYYY [at] hh:mma")},t.prototype.problemValue=function(e){var t=this.user_set.scores.find((function(t){return t.problem_id===e})),r=this.problem_set&&this.problem_set.problems.find((function(t){return t.problem_id===e}));return t&&r&&t.status*r.value||0},Object(o["b"])([Object(n["b"])()],t.prototype,"set_id",void 0),Object(o["b"])([Object(n["b"])()],t.prototype,"user_id",void 0),Object(o["b"])([Object(n["b"])()],t.prototype,"user_sets_changed",void 0),t=Object(o["b"])([Object(n["a"])({name:"ProblemViewerSidebar"})],t),t}(n["c"]),m=h,v=m,g=r("4e75"),y=Object(g["a"])(v,_,l,!1,null,null,null),O=y.exports,j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.set_id="",t.user_id="",t.current_problem_id=1,t.user_sets_changed=1,t}return Object(o["c"])(t,e),Object.defineProperty(t.prototype,"valid_problem_sets",{get:function(){var e=this;return this.user_sets_changed&&"instructor"===this.viewer_type?Array.from(u["a"].problem_sets.keys()).map((function(t){return{text:t,value:t,disabled:e.user_sets.findIndex((function(e){return e.set_id===t}))<0}})):"student"===this.viewer_type?this.user_sets.map((function(e){return e.set_id})):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user_problem",{get:function(){var e=this,t=this.user_set?this.user_set.problems:[];return t.find((function(t){return t.problem_id==e.current_problem_id}))||Object(f["m"])()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user_sets",{get:function(){var e=this,t=Array.from(u["a"].user_sets.values()).filter((function(t){return t.user_id===e.user_id}));return this.user_sets_changed,t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"problem_set",{get:function(){return u["a"].problem_sets.get(this.set_id)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user_set",{get:function(){var e=this,t=this.user_sets.find((function(t){return t.set_id==e.set_id}));return this.user_sets_changed&&t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user_names",{get:function(){return Array.from(a["a"].users.keys())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"num_problems",{get:function(){var e=u["a"].user_sets.get(this.user_id+":"+this.set_id);return e&&e.problems.length||0},enumerable:!0,configurable:!0}),t.prototype.updateSets=function(){return Object(o["a"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){return u["a"].fetchUserSet({user_id:this.user_id,set_id:this.set_id}),this.user_sets_changed++,[2]}))}))},t.prototype.userIDchanged=function(){return Object(o["a"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,u["a"].fetchUserSets(this.user_id)];case 1:return e.sent(),this.user_sets_changed++,[2]}}))}))},t.prototype.loadUserSet=function(){return Object(o["a"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return""===this.user_id||""===this.set_id?[2]:[4,u["a"].fetchUserSet({user_id:this.user_id,set_id:this.set_id})];case 1:return e.sent(),this.current_problem_id=this.user_set&&this.user_set.problems.length>0?this.user_set.problems[0].problem_id:0,[2]}}))}))},t.prototype.setNameChanged=function(){return Object(o["a"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){return this.loadUserSet(),[2]}))}))},t.prototype.routedChanged=function(){return Object(o["a"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return this.set_id=this.$route.params&&this.$route.params.set_id||"",this.user_id=this.$route.params&&this.$route.params.user_id||"",this.user_id?[4,u["a"].fetchUserSets(this.user_id)]:[3,2];case 1:e.sent(),this.user_sets_changed++,e.label=2;case 2:return[2]}}))}))},t.prototype.mounted=function(){return Object(o["a"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return console.log("in mounted"),this.user_id=c["a"].login_info.user_id,[4,u["a"].fetchUserSets(this.user_id)];case 1:return e.sent(),this.user_sets_changed++,[2]}}))}))},Object(o["b"])([Object(n["b"])()],t.prototype,"viewer_type",void 0),Object(o["b"])([Object(n["d"])("user_id")],t.prototype,"userIDchanged",null),Object(o["b"])([Object(n["d"])("set_id")],t.prototype,"setNameChanged",null),Object(o["b"])([Object(n["d"])("$route",{immediate:!0,deep:!0})],t.prototype,"routedChanged",null),t=Object(o["b"])([Object(n["a"])({name:"ProblemViewer",components:{ProblemView:d["a"],ProblemViewerSidebar:O}})],t),t}(n["c"]),w=j,S=w,P=(r("3926"),Object(g["a"])(S,s,i,!1,null,"1f783182",null));t["default"]=P.exports}}]);
//# sourceMappingURL=chunk-49e08557.d38b031a.js.map