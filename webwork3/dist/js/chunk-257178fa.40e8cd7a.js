(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-257178fa"],{2479:function(e,t,s){"use strict";var r=s("ad85"),i=s.n(r);i.a},"42f2":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-tabs",{attrs:{"content-class":"mt-3"},model:{value:e.tab_index,callback:function(t){e.tab_index=t},expression:"tab_index"}},e._l(e.tab_titles,(function(t,r){return s("b-tab",{key:t,attrs:{title:t}},[s("library-tab",{attrs:{tab_name:e.tabs[r]}})],1)})),1)},i=[],n=(s("5044"),s("3732"),s("b5a9"),s("105d"),s("51b5"),s("d4b1"),s("1313")),o=s("a36a"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",["subjects"==e.tab_name?s("library-subjects",{on:{"load-problems":e.loadProblems}}):e._e(),"directory"==e.tab_name?s("library-directory",{on:{"load-problems":e.loadProblems}}):e._e(),"textbooks"==e.tab_name?s("library-textbooks",{on:{"load-problems":e.loadProblems}}):e._e(),"local"==e.tab_name?s("local-library",{on:{"load-problems":e.loadProblems}}):e._e(),e.num_problems>0?s("b-row",{staticClass:"mt-2"},[s("b-col",[s("b-pagination",{attrs:{"total-rows":e.num_problems,"per-page":e.rows_per_page,limit:"10",size:"sm"},model:{value:e.current_page,callback:function(t){e.current_page=t},expression:"current_page"}})],1),s("b-col",[e._v(" "+e._s(e.current_page)+" ")])],1):e._e(),s("b-row",[s("div",{staticClass:"scrollable"},e._l(e.problems,(function(t){return s("problem-view",{key:t.problem_id,attrs:{problem:t,type:"library"},on:{"add-problem":e.addProblem}})})),1)])],1)},l=[],c=s("571b"),u=s("c7d4"),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"mb-3"},[s("b-col",[s("b-select",{attrs:{options:e.subjects,"value-field":"name","text-field":"name",size:"sm"},on:{change:e.subjectChange},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{attrs:{disabled:""},domProps:{value:""}},[e._v("Select subject...")])]},proxy:!0}]),model:{value:e.selected_subject,callback:function(t){e.selected_subject=t},expression:"selected_subject"}})],1),s("b-col",[s("b-select",{directives:[{name:"show",rawName:"v-show",value:""!=e.selected_subject,expression:"selected_subject != ''"}],attrs:{options:e.chapters,"value-field":"name","text-field":"name",size:"sm"},on:{change:e.chapterChange},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{domProps:{value:null}},[e._v("Select chapter...")])]},proxy:!0}]),model:{value:e.selected_chapter,callback:function(t){e.selected_chapter=t},expression:"selected_chapter"}})],1),s("b-col",[s("b-select",{directives:[{name:"show",rawName:"v-show",value:""!=e.selected_chapter,expression:"selected_chapter != ''"}],attrs:{options:e.sections,"value-field":"name","text-field":"name",size:"sm"},on:{change:e.sectionChange},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{domProps:{value:null}},[e._v("Select section...")])]},proxy:!0}]),model:{value:e.selected_section,callback:function(t){e.selected_section=t},expression:"selected_section"}})],1),s("b-col",[s("b-btn",{attrs:{size:"sm",variant:"outline-dark"},on:{click:e.selectProblems}},[e._v(" Select "+e._s(e.num_files)+" Problems ")])],1)],1)},d=[],p=(s("5d89"),s("f779")),f=s.n(p),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subjects=[],t.chapters=[],t.sections=[],t.selected_subject="",t.selected_chapter="",t.selected_section="",t.num_files=0,t.current_page=0,t}return Object(n["c"])(t,e),t.prototype.subjectChange=function(e){this.selected_chapter="",this.selected_section="",this.current_page=0;var t=this.subjects.find((function(t){return t.name===e}));t&&(this.chapters=t.subfields,this.num_files=t.num_files)},t.prototype.chapterChange=function(e){if(this.selected_section="",this.current_page=0,""!==e){var t=this.chapters.find((function(t){return t.name===e}));t&&(this.sections=t.subfields,this.num_files=t.num_files)}},t.prototype.sectionChange=function(e){if(this.current_page=0,""!==e){var t=this.sections.find((function(t){return t.name===e}));t&&(this.num_files=t.num_files)}},t.prototype.selectProblems=function(){var e=this,t="/webwork3/api/library/subjects/"+this.selected_subject;t+=""!==this.selected_chapter?"/chapters/"+this.selected_chapter:"",t+=""!==this.selected_section?"/sections/"+this.selected_section:"",t+="/problems",t=encodeURI(t),f.a.get(t).then((function(t){e.$emit("load-problems",t.data)}))["catch"]((function(e){console.log(e)}))},t.prototype.created=function(){var e=this;f.a.get("/webwork3/api/library/subjects").then((function(t){e.subjects=t.data}))["catch"]((function(e){console.log(e)}))},t=Object(n["b"])([Object(o["a"])({name:"LibrarySubjects"})],t),t}(o["c"]),m=h,_=m,y=s("4e75"),v=Object(y["a"])(_,b,d,!1,null,null,null),g=v.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[s("b-select",{attrs:{size:"sm",options:e.dirs1},on:{change:e.dir1Change},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" Select a Library ")])]},proxy:!0}]),model:{value:e.dir1,callback:function(t){e.dir1=t},expression:"dir1"}})],1),s("b-col",[e.dirs2.length>0?s("b-select",{attrs:{size:"sm",options:e.dirs2},on:{change:e.dir2Change},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" Select ")])]},proxy:!0}],null,!1,439610325),model:{value:e.dir2,callback:function(t){e.dir2=t},expression:"dir2"}}):e._e()],1),s("b-col",[e.dirs3.length>0?s("b-select",{attrs:{size:"sm",options:e.dirs3},on:{change:e.dir3Change},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" Select ")])]},proxy:!0}],null,!1,439610325),model:{value:e.dir3,callback:function(t){e.dir3=t},expression:"dir3"}}):e._e()],1),s("b-col",[e.dirs4.length>0?s("b-select",{attrs:{size:"sm",options:e.dirs4},on:{change:e.dir4Change},model:{value:e.dir4,callback:function(t){e.dir4=t},expression:"dir4"}}):e._e()],1),s("b-col",[e.dirs5.length>0?s("b-select",{attrs:{size:"sm",options:e.dirs5},on:{change:e.dir5Change},model:{value:e.dir5,callback:function(t){e.dir5=t},expression:"dir5"}}):e._e()],1),s("b-col",[s("b-btn",{attrs:{size:"sm",variant:"outline-dark",disabled:null==e.dir2},on:{click:e.loadProblems}},[e._v(" Load "+e._s(e.load_num)+" Problems ")])],1)],1)},k=[],j=(s("2fd0"),s("8eb0"),s("f0e5"),s("b804"),{name:"LibraryDirectory",data:function(){return{dirs1:[{value:"Library",text:"OPL Directory"},{value:"Contrib",text:"Contrib"}],dirs2:[],dirs3:[],dirs4:[],dirs5:[],dir1:null,dir2:null,dir3:null,dir4:null,dir5:null,load_num:0,OPL:[]}},mounted:function(){var e=this;f.a.get("/webwork3/api/library/directories").then((function(t){e.OPL=t.data}))},methods:{dir1Change:function(){"Library"===this.dir1&&(this.library=this.OPL),this.dir2=this.dir3=this.dir4=this.dir5=null,this.dirs3=this.dirs4=this.dirs5=[],this.dirs2=this.library[0].subfields.map((function(e){return e.name})),this.dirs2.sort()},dir2Change:function(){var e=this;this.dir3=this.dir4=this.dir5=null,this.dirs4=this.dirs5=[];var t=this.library[0].subfields.find((function(t){return t.name===e.dir2}));this.load_num=t.num_files,this.dirs3=t.subfields.map((function(e){return e.name})),this.dirs3.sort()},dir3Change:function(){var e=this;this.dir4=this.dir5=null,this.dirs5=[];var t=this.library[0].subfields.find((function(t){return t.name===e.dir2})),s=t.subfields.find((function(t){return t.name===e.dir3}));this.load_num=s.num_files,void 0!==s.subfields&&(this.dirs4=s.subfields.map((function(e){return e.name})),this.dirs4.sort())},loadProblems:function(){var e=this,t=[this.dir1,this.dir2,this.dir3,this.dir4,this.dir5].filter((function(e){return null!==e})).join("/");f.a.get("/webwork3/api/library/directories/"+t).then((function(t){e.$emit("load-problems",t.data)}))}}}),w=j,O=Object(y["a"])(w,x,k,!1,null,null,null),P=O.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[s("b-select",{attrs:{size:"sm",options:e.textbooks},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" Select a Textbook... ")])]},proxy:!0}]),model:{value:e.textbook,callback:function(t){e.textbook=t},expression:"textbook"}})],1),s("b-col",[e.chapters.length>0?s("b-select",{attrs:{size:"sm",options:e.chapters},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" Select Chapter... ")])]},proxy:!0}],null,!1,1604877698),model:{value:e.chapter,callback:function(t){e.chapter=t},expression:"chapter"}}):e._e()],1),s("b-col",[e.sections.length>0?s("b-select",{attrs:{size:"sm",options:e.sections},scopedSlots:e._u([{key:"first",fn:function(){return[s("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(" Select Section... ")])]},proxy:!0}],null,!1,1392401778),model:{value:e.section,callback:function(t){e.section=t},expression:"section"}}):e._e()],1),s("b-col",[s("b-btn",{attrs:{size:"sm",variant:"outline-dark",disabled:null==e.textbook},on:{click:e.loadProblems}},[e._v(" Load "+e._s(e.num_files)+" Problems ")])],1)],1)},S=[],L=void 0,$={name:"LibraryTextbooks",data:function(){return{textbooks:[],chapters:[],sections:[],textbook:null,chapter:null,section:null,textbook_data:[],num_files:0}},watch:{textbook:function(){var e=this,t=this.textbook_data.find((function(t){return t.textbook_id===e.textbook}));this.chapters=t.subfields.map((function(e){return{text:e.name,value:e.chapter_id}})),this.num_files=t.num_files,this.chapter=this.section=null},chapter:function(){var e=this,t=this.textbook_data.find((function(t){return t.textbook_id===e.textbook}));this.chapters=t.subfields.map((function(e){return{text:e.name,value:e.chapter_id}}));var s=t.subfields.find((function(t){return t.chapter_id===e.chapter}));s&&(this.sections=s.subfields.map((function(e){return{text:e.name,value:e.section_id}})),this.num_files=s.num_files),this.section=null}},mounted:function(){var e=this;f.a.get("/webwork3/api/library/textbooks").then((function(t){e.textbook_data=t.data,e.textbooks=e.textbook_data.map((function(e){return{value:e.textbook_id,text:e.name}}))}))},methods:{loadProblems:function(){var e="/webwork3/api/library/textbooks/";L.section?e+="sections/"+L.section+"/problems":L.chapter?e+="chapters/"+L.chapter+"/problems":e+=L.textbook+"/problems",f.a.get(e).then((function(e){L.$emit("load-problems",e.data)}))}}},z=$,I=Object(y["a"])(z,C,S,!1,null,null,null),D=I.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[s("b-list-group",{staticClass:"border"},e._l(e.dirs[0],(function(t){return s("b-list-group-item",{key:t.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(s){return e.open(t,1)}}},["dir"==t.type?s("i",{staticClass:"far fa-folder pr-2"}):e._e(),"file"==t.type?s("i",{staticClass:"far fa-file pr-2"}):e._e(),e._v(" "+e._s(t.text)+" ")])})),1)],1),s("b-col",[e.dirs[1]&&e.dirs[1].length>0?s("b-list-group",{staticClass:"border"},e._l(e.dirs[1],(function(t){return s("b-list-group-item",{key:t.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(s){return e.open(t,2)}}},["dir"==t.type?s("i",{staticClass:"far fa-folder pr-2"}):e._e(),"file"==t.type?s("i",{staticClass:"far fa-file pr-2"}):e._e(),e._v(" "+e._s(t.text)+" ")])})),1):e._e()],1),s("b-col",[e.dirs[2]&&e.dirs[2].length>0?s("b-list-group",{staticClass:"border"},e._l(e.dirs[2],(function(t){return s("b-list-group-item",{key:t.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(s){return e.open(t,2)}}},["dir"==t.type?s("i",{staticClass:"far fa-folder pr-2"}):e._e(),"file"==t.type?s("i",{staticClass:"far fa-file pr-2"}):e._e(),e._v(" "+e._s(t.text)+" ")])})),1):e._e()],1)],1)},T=[],J=s("7d62"),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dir_info={base:"",files:[],subdirs:[]},t.dirs={},t.selection=[],t}return Object(n["c"])(t,e),t.prototype.mounted=function(){var e=this;f.a.get(J["a"].api_header+"/library/local").then((function(t){e.dir_info=t.data,console.log(e.dir_info),e.open({type:"dir",text:"templates"},0)}))},t.prototype.open=function(e,t){for(var s=this,r=[],i=0;i<t;i++)r[i]=this.selection[i];if(this.selection=r,this.selection[t]=e,"dir"===e.type){var o={};for(i=0;i<t;i++)o[i]=this.dirs[i];var a={base:"",files:[],subdirs:[]};0===t?a=this.dir_info:1===t?a=this.dir_info.subdirs.find((function(t){return t.base===e.text}))||{base:"",files:[],subdirs:[]}:2===t&&(a=this.dir_info.subdirs.find((function(e){return e.base===s.selection[1].text}))||{base:"",files:[],subdirs:[]},a=a.subdirs.find((function(e){return e.base===s.selection[2].text}))||{base:"",files:[],subdirs:[]}),o[t]=Object(n["e"])(a.subdirs?a.subdirs.map((function(e){return{type:"dir",text:e.base}})):[],a.files.map((function(e){return{type:"file",text:e}}))),this.dirs=o}else if("file"===e.type){this.selection[t]=e;var l=this.selection.map((function(e){return e.text})).join("/");console.log(l),f.a.get(J["a"].api_header+"/problems/local"+l).then((function(e){s.$emit("load-problems",e.data)}))["catch"]((function(e){console.log(e)}))}},t=Object(n["b"])([Object(o["a"])({name:"LocalLibrary"})],t),t}(o["c"]),M=N,R=M,U=(s("2479"),Object(y["a"])(R,E,T,!1,null,"4c52e6d5",null)),V=U.exports,q=s("bb4b"),A=s("7969"),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.all_problems=[],t.current_page=1,t.rows_per_page=10,t}return Object(n["c"])(t,e),t.prototype.loadProblems=function(e){this.all_problems=e},t.prototype.addProblem=function(e){var t=this.problem_sets.get(u["a"].selected_set);if(void 0!==t){var s=Object(A["h"])();s.source_file=e.source_file,s.set_id=t.set_id,s.problem_id=t.problems.length+1,t.problems.push(s),c["a"].updateProblemSet(t)}},Object.defineProperty(t.prototype,"valid_set_id",{get:function(){return void 0!==u["a"].selected_set},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"set_names",{get:function(){return c["a"].set_names},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"num_problems",{get:function(){return this.all_problems.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"problems",{get:function(){if(0===this.all_problems.length||0===this.current_page)return[];for(var e=[],t=(this.current_page-1)*this.rows_per_page;t<Math.min(this.all_problems.length,this.current_page*this.rows_per_page);t++)e.push(this.all_problems[t]);return e},enumerable:!0,configurable:!0}),Object(n["b"])([Object(o["b"])()],t.prototype,"problem_sets",void 0),Object(n["b"])([Object(o["b"])()],t.prototype,"tab_name",void 0),t=Object(n["b"])([Object(o["a"])({name:"LibraryTab",components:{LibrarySubjects:g,LibraryDirectory:P,LibraryTextbooks:D,ProblemView:q["a"],LocalLibrary:V}})],t),t}(o["c"]),F=B,G=F,H=Object(y["a"])(G,a,l,!1,null,null,null),K=H.exports,Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tab_index=0,t.tabs=["subjects","directory","textbooks","local","setdefn","search","pending"],t.tab_titles=["Subjects","Directory","Textbooks","Local","Set Definition","Search","Pending"],t}return Object(n["c"])(t,e),Object.defineProperty(t.prototype,"problem_set",{get:function(){return c["a"].problem_sets.get(u["a"].selected_set)},enumerable:!0,configurable:!0}),t.prototype.tabIndexChanged=function(){"library-"+this.tabs[this.tab_index]!==this.$route.name&&this.$router.replace({name:"library-"+this.tabs[this.tab_index]})},t.prototype.routeChanged=function(){var e=this.$route.name,t=localStorage.getItem("library_tab");"undefined"!==typeof name&&("library"===name?t?this.$router.replace({name:t}):(this.$router.replace({name:"library-subjects"}),this.tab_index=0,localStorage.setItem("library_tab","library-subjects")):e&&/^library-/.test(e)&&(this.tab_index=this.tabs.findIndex((function(t){return t===e.split("-")[1]})),localStorage.setItem("library_tab",e)))},Object(n["b"])([Object(o["d"])("tab_index")],t.prototype,"tabIndexChanged",null),Object(n["b"])([Object(o["d"])("$route",{immediate:!0})],t.prototype,"routeChanged",null),t=Object(n["b"])([Object(o["a"])({name:"SetDetails",components:{LibraryTab:K}})],t),t}(o["c"]),W=Q,X=W,Y=Object(y["a"])(X,r,i,!1,null,null,null);t["default"]=Y.exports},ad85:function(e,t,s){}}]);
//# sourceMappingURL=chunk-257178fa.40e8cd7a.js.map