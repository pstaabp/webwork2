(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b764fe8c"],{"26e6":function(t,e,r){"use strict";var s=r("85b1"),n=r.n(s);n.a},"42f2":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-tabs",{attrs:{"content-class":"mt-3"},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},t._l(t.tab_titles,(function(e,s){return r("b-tab",{key:e,attrs:{title:e}},[r("library-tab",{attrs:{tab_name:t.tabs[s]}})],1)})),1)},n=[],o=(r("3732"),r("b5a9"),r("105d"),r("51b5"),r("1313")),i=r("a36a"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",["subjects"==t.tab_name?r("library-subjects",{on:{"load-problems":t.loadProblems}}):t._e(),"directory"==t.tab_name?r("library-directory",{on:{"load-problems":t.loadProblems}}):t._e(),"textbooks"==t.tab_name?r("library-textbooks",{on:{"load-problems":t.loadProblems}}):t._e(),"local"==t.tab_name?r("local-library",{on:{"load-problems":t.loadProblems}}):t._e(),t.num_problems>0?r("b-row",{staticClass:"mt-2"},[r("b-col",[r("b-pagination",{attrs:{"total-rows":t.num_problems,"per-page":t.rows_per_page,limit:"10",size:"sm"},model:{value:t.current_page,callback:function(e){t.current_page=e},expression:"current_page"}})],1),r("b-col",[t._v(" "+t._s(t.current_page)+" ")])],1):t._e(),r("b-row",[r("div",{staticClass:"scrollable"},t._l(t.problems,(function(e){return r("problem-view",{key:e.problem_id,attrs:{problem:e,type:"library"},on:{"add-problem":t.addProblem}})})),1)])],1)},c=[],l=r("7186"),b=r("571b"),u=r("c7d4"),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mb-3"},[r("b-col",[r("b-select",{attrs:{options:t.subjects,"value-field":"name","text-field":"name",size:"sm"},on:{change:t.subjectChange},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{attrs:{disabled:""},domProps:{value:""}},[t._v("Select subject...")])]},proxy:!0}]),model:{value:t.selected_subject,callback:function(e){t.selected_subject=e},expression:"selected_subject"}})],1),r("b-col",[r("b-select",{directives:[{name:"show",rawName:"v-show",value:""!=t.selected_subject,expression:"selected_subject != ''"}],attrs:{options:t.chapters,"value-field":"name","text-field":"name",size:"sm"},on:{change:t.chapterChange},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{domProps:{value:null}},[t._v("Select chapter...")])]},proxy:!0}]),model:{value:t.selected_chapter,callback:function(e){t.selected_chapter=e},expression:"selected_chapter"}})],1),r("b-col",[r("b-select",{directives:[{name:"show",rawName:"v-show",value:""!=t.selected_chapter,expression:"selected_chapter != ''"}],attrs:{options:t.sections,"value-field":"name","text-field":"name",size:"sm"},on:{change:t.sectionChange},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{domProps:{value:null}},[t._v("Select section...")])]},proxy:!0}]),model:{value:t.selected_section,callback:function(e){t.selected_section=e},expression:"selected_section"}})],1),r("b-col",[r("b-btn",{attrs:{size:"sm",variant:"outline-dark"},on:{click:t.selectProblems}},[t._v(" Select "+t._s(t.num_files)+" Problems ")])],1)],1)},d=[],h=(r("5d89"),r("f779")),_=r.n(h),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.subjects=[],e.chapters=[],e.sections=[],e.selected_subject="",e.selected_chapter="",e.selected_section="",e.num_files=0,e.current_page=0,e}return Object(o["c"])(e,t),e.prototype.subjectChange=function(t){this.selected_chapter="",this.selected_section="",this.current_page=0;var e=this.subjects.find((function(e){return e.name===t}));e&&(this.chapters=e.subfields,this.num_files=e.num_files)},e.prototype.chapterChange=function(t){if(this.selected_section="",this.current_page=0,""!==t){var e=this.chapters.find((function(e){return e.name===t}));e&&(this.sections=e.subfields,this.num_files=e.num_files)}},e.prototype.sectionChange=function(t){if(this.current_page=0,""!==t){var e=this.sections.find((function(e){return e.name===t}));e&&(this.num_files=e.num_files)}},e.prototype.selectProblems=function(){var t=this,e="/webwork3/api/library/subjects/"+this.selected_subject;e+=""!==this.selected_chapter?"/chapters/"+this.selected_chapter:"",e+=""!==this.selected_section?"/sections/"+this.selected_section:"",e+="/problems",e=encodeURI(e),_.a.get(e).then((function(e){t.$emit("load-problems",e.data)}))["catch"]((function(t){console.log(t)}))},e.prototype.created=function(){var t=this;_.a.get("/webwork3/api/library/subjects").then((function(e){t.subjects=e.data}))["catch"]((function(t){console.log(t)}))},e=Object(o["b"])([Object(i["a"])({name:"LibrarySubjects"})],e),e}(i["c"]),f=m,v=f,g=r("4e75"),y=Object(g["a"])(v,p,d,!1,null,null,null),j=y.exports,x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",[r("b-select",{attrs:{size:"sm",options:t.dirs1},on:{change:t.dir1Change},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(" Select a Library ")])]},proxy:!0}]),model:{value:t.dir1,callback:function(e){t.dir1=e},expression:"dir1"}})],1),r("b-col",[t.dirs2.length>0?r("b-select",{attrs:{size:"sm",options:t.dirs2},on:{change:t.dir2Change},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(" Select ")])]},proxy:!0}],null,!1,439610325),model:{value:t.dir2,callback:function(e){t.dir2=e},expression:"dir2"}}):t._e()],1),r("b-col",[t.dirs3.length>0?r("b-select",{attrs:{size:"sm",options:t.dirs3},on:{change:t.dir3Change},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(" Select ")])]},proxy:!0}],null,!1,439610325),model:{value:t.dir3,callback:function(e){t.dir3=e},expression:"dir3"}}):t._e()],1),r("b-col",[t.dirs4.length>0?r("b-select",{attrs:{size:"sm",options:t.dirs4},on:{change:t.dir4Change},model:{value:t.dir4,callback:function(e){t.dir4=e},expression:"dir4"}}):t._e()],1),r("b-col",[t.dirs5.length>0?r("b-select",{attrs:{size:"sm",options:t.dirs5},on:{change:t.dir5Change},model:{value:t.dir5,callback:function(e){t.dir5=e},expression:"dir5"}}):t._e()],1),r("b-col",[r("b-btn",{attrs:{size:"sm",variant:"outline-dark",disabled:null==t.dir2},on:{click:t.loadProblems}},[t._v(" Load "+t._s(t.load_num)+" Problems ")])],1)],1)},w=[],k=(r("2fd0"),r("8eb0"),r("f0e5"),r("b804"),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dirs1=[{value:"Library",text:"OPL Directory"},{value:"Contrib",text:"Contrib"}],e.dirs2=[],e.dirs3=[],e.dirs4=[],e.dirs5=[],e.dir1="",e.dir2="",e.dir3="",e.dir4="",e.dir5="",e.load_num=0,e.OPL=[],e.library=[],e}return Object(o["c"])(e,t),e.prototype.mounted=function(){var t=this;_.a.get("/webwork3/api/library/directories").then((function(e){t.OPL=e.data}))},e.prototype.dir1Change=function(){"Library"===this.dir1&&(this.library=this.OPL),this.dir2=this.dir3=this.dir4=this.dir5="",this.dirs3=this.dirs4=this.dirs5=[],this.dirs2=this.library[0].subfields.map((function(t){return t.name})),this.dirs2.sort()},e.prototype.dir2Change=function(){var t=this;this.dir3=this.dir4=this.dir5="",this.dirs4=this.dirs5=[];var e=this.library[0].subfields.find((function(e){return e.name===t.dir2}));e&&(this.load_num=e.num_files,this.dirs3=e.subfields.map((function(t){return t.name})),this.dirs3.sort())},e.prototype.dir3Change=function(){var t=this;this.dir4=this.dir5="",this.dirs5=[];var e=this.library[0].subfields.find((function(e){return e.name===t.dir2}));if(e){var r=e.subfields.find((function(e){return e.name===t.dir3}));r&&(this.load_num=r.num_files,this.dirs4=r.subfields.map((function(t){return t.name})),this.dirs4.sort())}},e.prototype.loadProblems=function(){var t=this,e=[this.dir1,this.dir2,this.dir3,this.dir4,this.dir5].filter((function(t){return""!==t})).join("/");_.a.get("/webwork3/api/library/directories/"+e).then((function(e){t.$emit("load-problems",e.data)}))},e=Object(o["b"])([Object(i["a"])({name:"LibraryDirectory"})],e),e}(i["c"])),O=k,C=O,P=Object(g["a"])(C,x,w,!1,null,null,null),S=P.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",[r("b-select",{attrs:{size:"sm",options:t.textbooks},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(" Select a Textbook... ")])]},proxy:!0}]),model:{value:t.textbook,callback:function(e){t.textbook=e},expression:"textbook"}})],1),r("b-col",[t.chapters.length>0?r("b-select",{attrs:{size:"sm",options:t.chapters},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(" Select Chapter... ")])]},proxy:!0}],null,!1,1604877698),model:{value:t.chapter,callback:function(e){t.chapter=e},expression:"chapter"}}):t._e()],1),r("b-col",[t.sections.length>0?r("b-select",{attrs:{size:"sm",options:t.sections},scopedSlots:t._u([{key:"first",fn:function(){return[r("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(" Select Section... ")])]},proxy:!0}],null,!1,1392401778),model:{value:t.section,callback:function(e){t.section=e},expression:"section"}}):t._e()],1),r("b-col",[r("b-btn",{attrs:{size:"sm",variant:"outline-dark",disabled:null==t.textbook},on:{click:t.loadProblems}},[t._v(" Load "+t._s(t.num_files)+" Problems ")])],1)],1)},$=[],L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textbooks=[],e.chapters=[],e.sections=[],e.textbook=0,e.chapter=0,e.section=0,e.textbook_data=[],e.num_files=0,e}return Object(o["c"])(e,t),e.prototype.textbookChanged=function(){var t=this,e=this.textbook_data.find((function(e){return e.textbook_id===t.textbook}));e&&(this.chapters=e.subfields.map((function(t){return{text:t.name,value:t.chapter_id}})),this.num_files=e.num_files,this.chapter=this.section=0)},e.prototype.chapterChanged=function(){var t=this,e=this.textbook_data.find((function(e){return e.textbook_id===t.textbook}));if(e){this.chapters=e.subfields.map((function(t){return{text:t.name,value:t.chapter_id}}));var r=e.subfields.find((function(e){return e.chapter_id===t.chapter}));r&&(this.sections=r.subfields.map((function(t){return{text:t.name,value:t.section_id}})),this.num_files=r.num_files),this.section=0}},e.prototype.mounted=function(){var t=this;_.a.get("/webwork3/api/library/textbooks").then((function(e){t.textbook_data=e.data,t.textbooks=t.textbook_data.map((function(t){return{value:t.textbook_id,text:t.name}}))}))},e.prototype.loadProblems=function(){var t=this,e="/webwork3/api/library/textbooks/";this.section?e+="sections/"+this.section+"/problems":this.chapter?e+="chapters/"+this.chapter+"/problems":e+=this.textbook+"/problems",_.a.get(e).then((function(e){t.$emit("load-problems",e.data)}))},Object(o["b"])([Object(i["d"])("textbook")],e.prototype,"textbookChanged",null),Object(o["b"])([Object(i["d"])("chapter")],e.prototype,"chapterChanged",null),e=Object(o["b"])([Object(i["a"])({name:"LibraryTextbooks"})],e),e}(i["c"]),E=L,D=E,z=Object(g["a"])(D,T,$,!1,null,null,null),A=z.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",[r("b-list-group",{staticClass:"border"},t._l(t.dirs[0],(function(e){return r("b-list-group-item",{key:e.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(r){return t.open(e,1)}}},["dir"==e.type?r("i",{staticClass:"far fa-folder pr-2"}):t._e(),"file"==e.type?r("i",{staticClass:"far fa-file pr-2"}):t._e(),t._v(" "+t._s(e.text)+" ")])})),1)],1),r("b-col",[t.dirs[1]&&t.dirs[1].length>0?r("b-list-group",{staticClass:"border"},t._l(t.dirs[1],(function(e){return r("b-list-group-item",{key:e.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(r){return t.open(e,2)}}},["dir"==e.type?r("i",{staticClass:"far fa-folder pr-2"}):t._e(),"file"==e.type?r("i",{staticClass:"far fa-file pr-2"}):t._e(),t._v(" "+t._s(e.text)+" ")])})),1):t._e()],1),r("b-col",[t.dirs[2]&&t.dirs[2].length>0?r("b-list-group",{staticClass:"border"},t._l(t.dirs[2],(function(e){return r("b-list-group-item",{key:e.text,staticClass:"pt-0 pb-0 pl-2",attrs:{button:""},on:{click:function(r){return t.open(e,2)}}},["dir"==e.type?r("i",{staticClass:"far fa-folder pr-2"}):t._e(),"file"==e.type?r("i",{staticClass:"far fa-file pr-2"}):t._e(),t._v(" "+t._s(e.text)+" ")])})),1):t._e()],1)],1)},I=[],M=r("7d62"),R=Object(l["e"])(M["a"]),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dir_info={base:"",files:[],subdirs:[]},e.dirs={},e.selection=[],e}return Object(o["c"])(e,t),e.prototype.mounted=function(){var t=this;_.a.get(R.api_header+"/library/local").then((function(e){t.dir_info=e.data,t.open({type:"dir",text:"templates"},0)}))},e.prototype.open=function(t,e){for(var r=this,s=[],n=0;n<e;n++)s[n]=this.selection[n];if(this.selection=s,this.selection[e]=t,"dir"===t.type){var i={};for(n=0;n<e;n++)i[n]=this.dirs[n];var a={base:"",files:[],subdirs:[]};0===e?a=this.dir_info:1===e?a=this.dir_info.subdirs.find((function(e){return e.base===t.text}))||{base:"",files:[],subdirs:[]}:2===e&&(a=this.dir_info.subdirs.find((function(t){return t.base===r.selection[1].text}))||{base:"",files:[],subdirs:[]},a=a.subdirs.find((function(t){return t.base===r.selection[2].text}))||{base:"",files:[],subdirs:[]}),i[e]=Object(o["e"])(a.subdirs?a.subdirs.map((function(t){return{type:"dir",text:t.base}})):[],a.files.map((function(t){return{type:"file",text:t}}))),this.dirs=i}else if("file"===t.type){this.selection[e]=t;var c=this.selection.map((function(t){return t.text})).join("/");console.log(c),_.a.get(R.api_header+"/problems/local"+c).then((function(t){r.$emit("load-problems",t.data)}))["catch"]((function(t){console.log(t)}))}},e=Object(o["b"])([Object(i["a"])({name:"LocalLibrary"})],e),e}(i["c"]),V=N,J=V,U=(r("26e6"),Object(g["a"])(J,B,I,!1,null,"8bef029e",null)),Y=U.exports,W=r("bb4b"),q=r("7969"),F=Object(l["e"])(b["a"]),H=Object(l["e"])(u["a"]),G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.all_problems=[],e.current_page=1,e.rows_per_page=10,e}return Object(o["c"])(e,t),e.prototype.loadProblems=function(t){this.all_problems=t},e.prototype.addProblem=function(t){var e=this.problem_sets.get(H.selected_set);if(void 0!==e){var r=Object(q["h"])();r.source_file=t.source_file,r.set_id=e.set_id,r.problem_id=e.problems.length+1,e.problems.push(r),F.updateProblemSet(e)}},Object.defineProperty(e.prototype,"valid_set_id",{get:function(){return void 0!==H.selected_set},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"set_names",{get:function(){return F.set_names},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"num_problems",{get:function(){return this.all_problems.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"problems",{get:function(){if(0===this.all_problems.length||0===this.current_page)return[];for(var t=[],e=(this.current_page-1)*this.rows_per_page;e<Math.min(this.all_problems.length,this.current_page*this.rows_per_page);e++)t.push(this.all_problems[e]);return t},enumerable:!1,configurable:!0}),Object(o["b"])([Object(i["b"])()],e.prototype,"problem_sets",void 0),Object(o["b"])([Object(i["b"])()],e.prototype,"tab_name",void 0),e=Object(o["b"])([Object(i["a"])({name:"LibraryTab",components:{LibrarySubjects:j,LibraryDirectory:S,LibraryTextbooks:A,ProblemView:W["a"],LocalLibrary:Y}})],e),e}(i["c"]),K=G,Q=K,X=Object(g["a"])(Q,a,c,!1,null,null,null),Z=X.exports,tt=Object(l["e"])(b["a"]),et=Object(l["e"])(u["a"]),rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tab_index=0,e.tabs=["subjects","directory","textbooks","local","setdefn","search","pending"],e.tab_titles=["Subjects","Directory","Textbooks","Local","Set Definition","Search","Pending"],e}return Object(o["c"])(e,t),Object.defineProperty(e.prototype,"problem_set",{get:function(){return tt.getProblemSet(et.selected_set)},enumerable:!1,configurable:!0}),e.prototype.tabIndexChanged=function(){this.$router.push({name:"library-tabs",params:{tabname:this.tabs[this.tab_index]}})},e.prototype.routeChanged=function(){"undefined"!==typeof this.$route.name&&("library"===this.$route.name?(this.$router.replace({name:"library-tabs",params:{tabname:"subjects"}}),this.tab_index=0):"library-tabs"===this.$route.name&&console.log(this.$route.params))},Object(o["b"])([Object(i["d"])("tab_index")],e.prototype,"tabIndexChanged",null),Object(o["b"])([Object(i["d"])("$route",{immediate:!0})],e.prototype,"routeChanged",null),e=Object(o["b"])([Object(i["a"])({name:"SetDetails",components:{LibraryTab:Z}})],e),e}(i["c"]),st=rt,nt=st,ot=Object(g["a"])(nt,s,n,!1,null,null,null);e["default"]=ot.exports},"85b1":function(t,e,r){},abbd:function(t,e,r){"use strict";var s=r("ffe7"),n=r.n(s);n.a},bb4b:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"problem p-2 rounded"},[r("b-container",[r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("b-row",[t.prop.numbered?r("b-col",{attrs:{cols:"2"}},[r("b-input-group",{attrs:{size:"sm"}},[r("span",{staticClass:"problem-id"},[t._v(t._s(t.problem&&t.problem.problem_id))])])],1):t._e(),t.prop.value?r("b-col",{attrs:{cols:"4"}},[r("b-input-group",{attrs:{size:"sm"},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("b-input-group-text",[t._v("Value:")])]},proxy:!0}],null,!1,2741632856)},[r("b-input",{attrs:{type:"number"},model:{value:t.problem.value,callback:function(e){t.$set(t.problem,"value",e)},expression:"problem.value"}})],1)],1):t._e(),t.prop.attempts?r("b-col",{attrs:{cols:"4"}},[r("b-input-group",{attrs:{size:"sm",prepend:"Max. Att.:"}},[r("b-input",{attrs:{type:"number"},model:{value:t.problem.max_attempts,callback:function(e){t.$set(t.problem,"max_attempts",e)},expression:"problem.max_attempts"}})],1)],1):t._e()],1)],1),r("b-col",{attrs:{cols:"5"}},[r("b-btn-toolbar",[r("b-btn-group",{attrs:{size:"sm"}},[t.prop.add?r("b-btn",{attrs:{variant:"outline-dark",title:"add problem"},on:{click:function(e){return t.$emit("add-problem",t.problem)}}},[r("b-icon-plus")],1):t._e(),t.prop.edit?r("b-btn",{attrs:{variant:"outline-dark",title:"edit"},on:{click:t.edit}},[r("b-icon-pencil")],1):t._e(),t.prop.randomize?r("b-btn",{attrs:{variant:"outline-dark",title:"randomize"},on:{click:t.randomize}},[r("b-icon-arrow-clockwise")],1):t._e(),t.prop.delete?r("b-btn",{attrs:{variant:"outline-dark",title:"delete problem"}},[r("b-icon-trash")],1):t._e(),t.prop.mark_all?r("b-btn",{attrs:{variant:"outline-dark",title:"Mark this problem correct for all assigned users.",disabled:""}},[r("b-icon-check")],1):t._e(),t.prop.tags?r("b-btn",{attrs:{variant:t.show_tags?"success":"outline-dark",title:"show/hide tags"},on:{click:function(e){t.show_tags=!t.show_tags}}},[r("b-icon-tag")],1):t._e(),t.prop.path?r("b-btn",{attrs:{variant:t.show_path?"success":"outline-dark",title:"show/hide path"},on:{click:function(e){t.show_path=!t.show_path}}},[r("b-icon-folder")],1):t._e(),t.prop.target_set?r("b-btn",{attrs:{variant:"outline-dark",title:"This problem is in the target set."}},[r("b-icon-bullseye")],1):t._e()],1)],1)],1),r("b-col",{attrs:{cols:"1"}},[t.prop.reorder?r("b-btn-group",{staticClass:"float-right",attrs:{size:"sm"}},[r("b-btn",{staticClass:"drag-handle border border-dark rounded p-2",attrs:{variant:"outline-dark"}},[r("b-icon-arrow-down-up")],1)],1):t._e()],1)],1),t.show_path?r("b-row",[t._v(" Path: "+t._s(t.problem.source_file)+" ")]):t._e(),t.show_tags&&t.tags_loaded?r("b-row",[r("problem-tags-view",{attrs:{problem_tags:t.problem_tags}})],1):t._e(),r("b-row",[""==t.rendered_problem.text?r("div",{staticClass:"text-center"},[r("b-spinner",{attrs:{variant:"info"}})],1):r("div",{staticClass:"problem-tag-container"},[r("div",{attrs:{id:"problem-output"},domProps:{innerHTML:t._s(t.rendered_problem.text)}})])]),"student"===t.type?r("b-row",{staticClass:"pt-3"},[t.is_open?t._e():r("b-col",{attrs:{cols:"4"}},[r("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.submit(!1)}}},[t._v("Check Answer")])],1),t.is_open?r("b-col",{attrs:{cols:"4"}},[r("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.submit(!0)}}},[t._v("Submit Answer")])],1):t._e()],1):t._e()],1)],1)},n=[],o=(r("13ec"),r("a9c8"),r("b5a9"),r("ab53"),r("ebac"),r("d3bc"),r("7dab"),r("1313")),i=r("a36a"),a=r("19f9"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[t.label?r("b-btn",{attrs:{id:"preview-"+t.label,size:"sm",variant:"outline-dark"}},[r("b-icon-camera",{attrs:{"font-scale":"1"}})],1):t._e(),r("b-popover",{attrs:{target:"preview-"+t.label,placement:"top",triggers:"click"},scopedSlots:t._u([{key:"title",fn:function(){return[r("b-btn",{attrs:{size:"sm",variant:"outline-dark"},on:{click:function(e){return t.$emit("preview",t.label)}}},[t._v("Preview")])]},proxy:!0}])},[t.preview_latex_string?r("span",[t._v(" \\("+t._s(t.preview_latex_string)+"\\) ")]):t._e()]),"correct"==t.type?r("b-icon-check-circle",{staticClass:"text-success",attrs:{"font-scale":"1.5"}}):t._e(),t.label&&"incorrect"===t.type?r("b-icon-exclamation-circle",{staticClass:"text-danger",attrs:{id:"msg-"+t.label,"font-scale":"1.5"}}):t._e(),t.answer&&t.answer.ans_message?r("b-popover",{attrs:{target:"msg"+t.answer.ans_label,triggers:"hover focus",placement:"top"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Message ")]},proxy:!0}],null,!1,2400269238)},[t._v(" "+t._s(t.answer.ans_message)+" ")]):t._e()],1)},l=[];i["c"].component("BIconCheckCircle",a["k"]),i["c"].component("BIconExclamationCircle",a["n"]),i["c"].component("BIconCamera",a["i"]);var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o["c"])(e,t),e.prototype.setPreviewString=function(t){this.preview_latex_string=t,console.log(this.preview_latex_string)},Object(o["b"])([Object(i["b"])()],e.prototype,"type",void 0),Object(o["b"])([Object(i["b"])()],e.prototype,"label",void 0),Object(o["b"])([Object(i["b"])()],e.prototype,"answer",void 0),Object(o["b"])([Object(i["b"])()],e.prototype,"preview_latex_string",void 0),e=Object(o["b"])([Object(i["a"])({name:"AnswerDecoration"})],e),e}(i["c"]),u=b,p=u,d=r("4e75"),h=Object(d["a"])(p,c,l,!1,null,null,null),_=h.exports,m=(r("0737"),r("01fa"),r("fc51")),f=r("7969"),v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"table table-sm table-bordered"},[r("tr",[r("td",{staticClass:"header"},[t._v("DBsubject:")]),r("td",[t._v(t._s(t.tags.DBsubject))]),r("td",{staticClass:"header"},[t._v("DBchapter:")]),r("td",[t._v(t._s(t.tags.DBchapter))]),r("td",{staticClass:"header"},[t._v("DBsection:")]),r("td",[t._v(t._s(t.tags.DBsection))])]),r("tr",[r("td",{staticClass:"header"},[t._v("Author:")]),r("td",[t._v(t._s(t.tags.Author))]),r("td",{staticClass:"header"},[t._v("Institution:")]),r("td",[t._v(t._s(t.tags.Institution))]),r("td",{staticClass:"header"},[t._v("Date:")]),r("td",[t._v(t._s(t.tags.Date))])]),r("tr",[r("td",{staticClass:"header"},[t._v("Level:")]),r("td",[t._v(t._s(t.tags.Level))]),r("td",{staticClass:"header"},[t._v("MLT:")]),r("td",[t._v(t._s(t.tags.MLT))]),r("td",{staticClass:"header"},[t._v("MLTleader:")]),r("td",[t._v(t._s(t.tags.MLTleader))])]),r("tr",[r("td",{staticClass:"header"},[t._v("keywords:")]),r("td",{attrs:{colspan:"5"}},[t._v(t._s(t.tags.keywords.join(", ")))])]),r("tr",[r("td",{staticClass:"header"},[t._v("Language:")]),r("td",[t._v(t._s(t.tags.Language))]),r("td",{staticClass:"header"},[t._v("Status:")]),r("td",[t._v(t._s(t.tags.Status))]),r("td",{staticClass:"header"},[t._v("isPlaceholder:")]),r("td",[t._v(t._s(t.tags.isPlaceholder))])]),r("tr",[r("td",{staticClass:"header"},[t._v("MO:")]),r("td",[t._v(t._s(t.tags.MO))]),r("td",{staticClass:"header"},[t._v("lasttagline:")]),r("td",[t._v(t._s(t.tags.lasttagline))]),r("td",{staticClass:"header"},[t._v("static:")]),r("td",[t._v(t._s(t.tags.static))])]),r("tr",[r("td",{staticClass:"header"},[t._v("modified:")]),r("td",[t._v(t._s(t.tags.modified))]),r("td",{staticClass:"header"},[t._v("resources:")]),r("td",{attrs:{colspan:"3"}},[t._v(t._s(t.tags.resources.join(", ")))])]),t._m(0),t._l(t.tags.textinfo,(function(e){return[r("tr",{key:"row1:"+e.TitleText},[r("td",{staticClass:"header"},[t._v("TitleText:")]),r("td",[t._v(t._s(e.TitleText))]),r("td",{staticClass:"header"},[t._v("AuthorText:")]),r("td",[t._v(t._s(e.AuthorText))]),r("td",{staticClass:"header"},[t._v("EditionText:")]),r("td",[t._v(t._s(e.EditionText))])]),r("tr",{key:"row2:"+e.TitleText},[r("td",{staticClass:"header"},[t._v("chapter:")]),r("td",[t._v(t._s(e.chapter))]),r("td",{staticClass:"header"},[t._v("section:")]),r("td",[t._v(t._s(e.section))]),r("td",{staticClass:"header"},[t._v("problems:")]),r("td",[t._v(t._s(e.problems))])])]}))],2)},g=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("td",{staticClass:"header",attrs:{colspan:"6"}},[t._v("Textbook Info")])])}],y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o["c"])(e,t),Object(o["b"])([Object(i["b"])()],e.prototype,"problem_tags",void 0),e=Object(o["b"])([Object(i["a"])({name:"ProblemTagsView"})],e),e}(i["c"]),j=y,x=j,w=Object(d["a"])(x,v,g,!1,null,null,null),k=w.exports;i["c"].component("BIconPlus",a["x"]),i["c"].component("BIconPencil",a["u"]),i["c"].component("BIconArrowClockwise",a["a"]),i["c"].component("BIconTrash",a["A"]),i["c"].component("BIconCheck",a["j"]),i["c"].component("BIconTag",a["z"]),i["c"].component("BIconFolder",a["q"]),i["c"].component("BIconBullseye",a["g"]),i["c"].component("BIconArrowDownUp",a["b"]);var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rendered_problem=Object(f["k"])(),e.show_tags=!1,e.show_path=!1,e.tags=Object(f["j"])(),e.submitted=Object(f["k"])(),e.answer_decorations={},e}return Object(o["c"])(e,t),e.prototype.mounted=function(){this.renderProblem({})},Object.defineProperty(e.prototype,"tags_loaded",{get:function(){return Object.keys(this.tags).length>0},enumerable:!1,configurable:!0}),e.prototype.renderProblem=function(t){return Object(o["a"])(this,void 0,Promise,(function(){var e,r=this;return Object(o["d"])(this,(function(s){switch(s.label){case 0:return[4,Object(m["h"])(Object.assign({},this.problem,t))];case 1:return e=s.sent(),this.rendered_problem=e,Promise.resolve().then((function(){MathJax.typesetPromise(),r.buildAnswerDecorations()}))["catch"]((function(t){return console.log(t)})),[2]}}))}))},Object.defineProperty(e.prototype,"prop",{get:function(){switch(this.type){case"library":return f["a"];case"set":return f["b"];case"student":return f["c"]}return f["c"]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_open",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.addProblem=function(t){console.log(t)},e.prototype.randomize=function(){this.renderProblem({problem_seed:Math.ceil(1e4*Math.random())})},e.prototype.problemChange=function(){this.renderProblem({})},e.prototype.showTagsChanged=function(){return Object(o["a"])(this,void 0,Promise,(function(){var t;return Object(o["d"])(this,(function(e){switch(e.label){case 0:return this.tags_loaded?[3,2]:(t=this,[4,Object(m["c"])(this.problem.source_file)]);case 1:t.tags=e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.problemIDchanged=function(){this.renderProblem({})},e.prototype.edit=function(){console.log(this.problem),this.$router.push({name:"editor",params:{problem:this.problem}})},e.prototype.parseAnswers=function(){return this.rendered_problem.flags.ANSWER_ENTRY_ORDER.reduce((function(t,e){var r=document.getElementById(e);return t[e]=r?r.value:"",t}),{})},e.prototype.buildAnswerDecorations=function(){var t=this;"student"===this.type&&this.rendered_problem&&this.rendered_problem.flags.ANSWER_ENTRY_ORDER&&this.rendered_problem.flags.ANSWER_ENTRY_ORDER.forEach((function(e){var r=document.getElementById(e);if(r){var s=document.createElement("span");t.answer_decorations[e]=new _({propsData:{type:"",label:e}}),t.answer_decorations[e].$mount(),t.answer_decorations[e].$on("preview",(function(e){return t.preview(e)})),r.parentNode&&(r.parentNode.insertBefore(s,r),s.appendChild(r),s.appendChild(t.answer_decorations[e].$el))}}))},e.prototype.updateAnswerDecorations=function(){var t=this,e=this.submitted.answers;Object.keys(e).forEach((function(r){t.answer_decorations[r].$props.type=1===e[r].score?"correct":"incorrect",t.answer_decorations[r].$props.answer=e[r]}))},e.prototype.submit=function(t){return Object(o["a"])(this,void 0,Promise,(function(){var e;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return e=this,[4,Object(m["i"])(Object.assign({answers:this.parseAnswers(),checkAnswers:!t,submitAnswers:t},this.problem))];case 1:return e.submitted=r.sent(),this.updateAnswerDecorations(),t&&this.$emit("update-sets"),[2]}}))}))},e.prototype.preview=function(t){return Object(o["a"])(this,void 0,Promise,(function(){var e;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return e=this,[4,Object(m["i"])(Object.assign({answers:this.parseAnswers(),checkAnswers:!1,submitAnswers:!1},this.problem))];case 1:return e.submitted=r.sent(),this.answer_decorations[t].setPreviewString(this.submitted.answers[t].preview_latex_string),Promise.resolve().then((function(){MathJax.typesetPromise(),console.log("in typeset")}))["catch"]((function(t){return console.log(t)})),[2]}}))}))},Object(o["b"])([Object(i["b"])()],e.prototype,"problem",void 0),Object(o["b"])([Object(i["b"])()],e.prototype,"type",void 0),Object(o["b"])([Object(i["b"])()],e.prototype,"user_id",void 0),Object(o["b"])([Object(i["b"])()],e.prototype,"problem_id",void 0),Object(o["b"])([Object(i["d"])("problem.source_file")],e.prototype,"problemChange",null),Object(o["b"])([Object(i["d"])("show_tags")],e.prototype,"showTagsChanged",null),Object(o["b"])([Object(i["d"])("problem_id")],e.prototype,"problemIDchanged",null),e=Object(o["b"])([Object(i["a"])({name:"ProblemView",components:{AnswerDecoration:_,ProblemTagsView:k}})],e),e}(i["c"]),C=O,P=C,S=(r("abbd"),Object(d["a"])(P,s,n,!1,null,null,null));e["a"]=S.exports},d3bc:function(t,e,r){var s=r("fe80"),n=r("aa38"),o=r("b6b0"),i=r("ee53").UNSUPPORTED_Y;s&&("g"!=/./g.flags||i)&&n.f(RegExp.prototype,"flags",{configurable:!0,get:o})},ffe7:function(t,e,r){}}]);
//# sourceMappingURL=chunk-b764fe8c.5d913fbe.js.map